<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Linux学习讲义 | monster's blog</title><meta name="description" content="# Linux 学习讲义 # 1 常用命令的介绍 12345678910111213141516(1) ctrl c: 取消命令，并且换行(2) ctrl u: 清空本行命令(3) tab键：可以补全命令和文件名，如果补全不了快速按两下tab键，可以显示备选选项(4) ls: 列出当前目录下所有文件，蓝色的是文件夹，白色的是普通文件，绿色的是可执行文件(5) pwd: 显示当前路径(6) cd X"><meta name="keywords" content="Linux"><meta name="author" content="Ex-monster"><meta name="copyright" content="Ex-monster"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/found.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin="crossorigin"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Linux学习讲义"><meta name="twitter:description" content="# Linux 学习讲义 # 1 常用命令的介绍 12345678910111213141516(1) ctrl c: 取消命令，并且换行(2) ctrl u: 清空本行命令(3) tab键：可以补全命令和文件名，如果补全不了快速按两下tab键，可以显示备选选项(4) ls: 列出当前目录下所有文件，蓝色的是文件夹，白色的是普通文件，绿色的是可执行文件(5) pwd: 显示当前路径(6) cd X"><meta name="twitter:image" content="http://example.com/img/%E9%9B%AA%E5%A4%A9.jpg"><meta property="og:type" content="article"><meta property="og:title" content="Linux学习讲义"><meta property="og:url" content="http://example.com/2023/06/26/Linux%20%E5%AD%A6%E4%B9%A0%E8%AE%B2%E4%B9%89/"><meta property="og:site_name" content="monster's blog"><meta property="og:description" content="# Linux 学习讲义 # 1 常用命令的介绍 12345678910111213141516(1) ctrl c: 取消命令，并且换行(2) ctrl u: 清空本行命令(3) tab键：可以补全命令和文件名，如果补全不了快速按两下tab键，可以显示备选选项(4) ls: 列出当前目录下所有文件，蓝色的是文件夹，白色的是普通文件，绿色的是可执行文件(5) pwd: 显示当前路径(6) cd X"><meta property="og:image" content="http://example.com/img/%E9%9B%AA%E5%A4%A9.jpg"><meta property="article:published_time" content="2023-06-26T14:28:36.178Z"><meta property="article:modified_time" content="2023-06-26T14:30:34.704Z"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>var autoChangeMode = '1'
var t = Cookies.get("theme")
if (autoChangeMode == '1'){
  var isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
  var isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
  var isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
  var hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

  if (t === undefined){
    if (isLightMode) activateLightMode()
    else if (isDarkMode) activateDarkMode()
    else if (isNotSpecified || hasNoSupport){
      console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
      var now = new Date()
      var hour = now.getHours()
      var isNight = hour < 6 || hour >= 18
      isNight ? activateDarkMode() : activateLightMode()
  }
  } else if (t == 'light') activateLightMode()
  else activateDarkMode()

} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="canonical" href="http://example.com/2023/06/26/Linux%20%E5%AD%A6%E4%B9%A0%E8%AE%B2%E4%B9%89/"><link rel="prev" title="C++常用代码模板（1）" href="http://example.com/2023/06/26/%E5%B8%B8%E7%94%A8%E4%BB%A3%E7%A0%81%E6%A8%A1%E6%9D%BF1/"><link rel="next" title="前端学习——HTML+CSS" href="http://example.com/2023/04/21/%E5%89%8D%E7%AB%AF%E5%AD%A6%E4%B9%A0%E2%80%94%E2%80%94HTML+CSS/"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.css"><script src="https://cdn.jsdelivr.net/npm/gitalk@latest/dist/gitalk.min.js"></script><script src="https://cdn.jsdelivr.net/npm/blueimp-md5/js/md5.min.js"></script><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容:${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://xxx/","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  runtime: true,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  baiduPush: false,
  highlightCopy: true,
  highlightLang: true,
  highlightShrink: 'false',
  isFontAwesomeV5: false,
  isPhotoFigcaption: false
  
}</script><script>var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isSidebar: true  
  }</script><noscript><style>
#page-header {
  opacity: 1
}
.justified-gallery img{
  opacity: 1
}
</style></noscript><meta name="generator" content="Hexo 6.1.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><canvas class="fireworks"></canvas><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="/img/cat.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">20</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">8</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">9</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> 列表</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page" href="/Gallery/"><i class="fa-fw fa fa-picture-o"></i><span> 照片</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> 影片</span></a></li></ul></div></div></div></div><i class="fa fa-arrow-right on" id="toggle-sidebar" aria-hidden="true">     </i><div id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#linux-%E5%AD%A6%E4%B9%A0%E8%AE%B2%E4%B9%89"><span class="toc-number">1.</span> <span class="toc-text"> Linux 学习讲义</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E7%9A%84%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.0.0.1.</span> <span class="toc-text"> 1 常用命令的介绍</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#21-tmux%E7%9A%84%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.0.0.2.</span> <span class="toc-text"> 2.1 tmux 的介绍</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#22-vim%E6%95%99%E7%A8%8B"><span class="toc-number">1.0.0.3.</span> <span class="toc-text"> 2.2 vim 教程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-shell%E8%AF%AD%E6%B3%95"><span class="toc-number">1.0.0.4.</span> <span class="toc-text"> 3 shell 语法</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#31-%E6%A6%82%E8%AE%BA"><span class="toc-number">1.0.0.4.1.</span> <span class="toc-text"> 3.1 概论</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#32-%E6%B3%A8%E9%87%8A"><span class="toc-number">1.0.0.4.2.</span> <span class="toc-text"> 3.2 注释</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#33-%E5%8F%98%E9%87%8F"><span class="toc-number">1.0.0.4.3.</span> <span class="toc-text"> 3.3 变量</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#34-%E9%BB%98%E8%AE%A4%E5%8F%98%E9%87%8F"><span class="toc-number">1.0.0.4.4.</span> <span class="toc-text"> 3.4 默认变量</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#35-%E6%95%B0%E7%BB%84"><span class="toc-number">1.0.0.4.5.</span> <span class="toc-text"> 3.5 数组</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#36-expr%E5%91%BD%E4%BB%A4"><span class="toc-number">1.0.0.4.6.</span> <span class="toc-text"> 3.6 expr 命令</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#37-read%E5%91%BD%E4%BB%A4"><span class="toc-number">1.0.0.4.7.</span> <span class="toc-text"> 3.7 read 命令</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#38-echo%E5%91%BD%E4%BB%A4"><span class="toc-number">1.0.0.4.8.</span> <span class="toc-text"> 3.8 echo 命令</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#39-printf%E5%91%BD%E4%BB%A4"><span class="toc-number">1.0.0.4.9.</span> <span class="toc-text"> 3.9 printf 命令</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#-code48-"><span class="toc-number">1.1.</span> <span class="toc-text"> 1
2
3
4
   123.
123.12    .
My name is yxc
2 * 3 &#x3D; 6
</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#310-test%E5%91%BD%E4%BB%A4%E4%B8%8E%E5%88%A4%E6%96%AD%E7%AC%A6%E5%8F%B7"><span class="toc-number">1.1.0.0.1.</span> <span class="toc-text"> 3.10 test 命令与判断符号 []</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#311-%E5%88%A4%E6%96%AD%E8%AF%AD%E5%8F%A5"><span class="toc-number">1.1.0.0.2.</span> <span class="toc-text"> 3.11 判断语句</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#512-%E5%BE%AA%E7%8E%AF%E8%AF%AD%E5%8F%A5"><span class="toc-number">1.1.0.0.3.</span> <span class="toc-text"> 5.12 循环语句</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#513-%E5%87%BD%E6%95%B0"><span class="toc-number">1.1.0.0.4.</span> <span class="toc-text"> 5.13 函数</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#514-exit%E5%91%BD%E4%BB%A4"><span class="toc-number">1.1.0.0.5.</span> <span class="toc-text"> 5.14 exit 命令</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#515-%E6%96%87%E4%BB%B6%E9%87%8D%E5%AE%9A%E5%90%91"><span class="toc-number">1.1.0.0.6.</span> <span class="toc-text"> 5.15 文件重定向</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#516-%E5%BC%95%E5%85%A5%E5%A4%96%E9%83%A8%E8%84%9A%E6%9C%AC"><span class="toc-number">1.1.0.0.7.</span> <span class="toc-text"> 5.16 引入外部脚本</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-ssh"><span class="toc-number">1.1.0.1.</span> <span class="toc-text"> 6 ssh</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#61-ssh%E7%99%BB%E5%BD%95"><span class="toc-number">1.1.0.1.1.</span> <span class="toc-text"> 6.1 ssh 登录</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#62-scp%E4%BC%A0%E6%96%87%E4%BB%B6"><span class="toc-number">1.1.0.1.2.</span> <span class="toc-text"> 6.2 scp 传文件</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-git"><span class="toc-number">1.1.0.2.</span> <span class="toc-text"> 7 git</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#71-git%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">1.1.0.2.1.</span> <span class="toc-text"> 7.1. git 基本概念</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#72-git%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"><span class="toc-number">1.1.0.2.2.</span> <span class="toc-text"> 7.2 git 常用命令</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#8-%E7%AE%A1%E9%81%93-%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E4%B8%8E%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"><span class="toc-number">1.1.0.3.</span> <span class="toc-text"> 8 管道、环境变量与常用命令</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#81-%E7%AE%A1%E9%81%93"><span class="toc-number">1.1.0.3.1.</span> <span class="toc-text"> 8.1 管道</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#82-%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="toc-number">1.1.0.3.2.</span> <span class="toc-text"> 8.2 环境变量</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#83-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"><span class="toc-number">1.1.0.3.3.</span> <span class="toc-text"> 8.3 常用命令</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#9-docker"><span class="toc-number">1.1.0.4.</span> <span class="toc-text"> 9 docker</span></a></li></ol></li></ol></li></ol></li></ol></div></div></div><div id="body-wrap"><div class="post-bg" id="nav" style="background-image: url(/img/雪天.jpg)"><div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">monster's blog</a></span><span class="pull_right menus"><div id="search_button"><a class="site-page social-icon search"><i class="fa fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> 列表</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page" href="/Gallery/"><i class="fa-fw fa fa-picture-o"></i><span> 照片</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> 影片</span></a></li></ul></div></div><span class="toggle-menu close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span></span></div><div id="post-info"><div id="post-title"><div class="posttitle">Linux学习讲义</div></div><div id="post-meta"><div class="meta-firstline"><time class="post-meta__date"><span class="post-meta__date-created" title="发表于 2023-06-26 22:28:36"><i class="fa fa-calendar" aria-hidden="true"></i> 发表于 2023-06-26</span><span class="post-meta__separator">|</span><span class="post-meta__date-updated" title="更新于 2023-06-26 22:30:34"><i class="fa fa-history" aria-hidden="true"></i> 更新于 2023-06-26</span></time><span class="post-meta__categories"><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/Linux%E5%AD%A6%E4%B9%A0%E8%AE%B2%E4%B9%89/">Linux学习讲义</a></span></div><div class="meta-secondline"> </div><div class="meta-thirdline"><span class="post-meta-pv-cv"><i class="fa fa-eye post-meta__icon" aria-hidden="true"> </i><span>阅读量:</span><span id="busuanzi_value_page_pv"></span></span><span class="post-meta-commentcount"><span class="post-meta__separator">|</span><i class="post-meta__icon fa fa-comment-o" aria-hidden="true"></i><span>评论数:</span><a href="/2023/06/26/Linux%20%E5%AD%A6%E4%B9%A0%E8%AE%B2%E4%B9%89/#post-comment"><span class="gitalk-comment-count comment-count"></span></a></span></div></div></div></div><main class="layout_post" id="content-inner"><article id="post"><div id="article-container"><h1 id="linux-学习讲义"><a class="markdownIt-Anchor" href="#linux-学习讲义">#</a> Linux 学习讲义</h1>
<h4 id="1-常用命令的介绍"><a class="markdownIt-Anchor" href="#1-常用命令的介绍">#</a> 1 常用命令的介绍</h4>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">(1) ctrl c: 取消命令，并且换行</span><br><span class="line">(2) ctrl u: 清空本行命令</span><br><span class="line">(3) tab键：可以补全命令和文件名，如果补全不了快速按两下tab键，可以显示备选选项</span><br><span class="line">(4) <span class="built_in">ls</span>: 列出当前目录下所有文件，蓝色的是文件夹，白色的是普通文件，绿色的是可执行文件</span><br><span class="line">(5) <span class="built_in">pwd</span>: 显示当前路径</span><br><span class="line">(6) <span class="built_in">cd</span> XXX: 进入XXX目录下, <span class="built_in">cd</span> .. 返回上层目录</span><br><span class="line">(7) <span class="built_in">cp</span> XXX YYY: 将XXX文件复制成YYY，XXX和YYY可以是一个路径，比如../dir_c/a.txt，表示上层目录下的dir_c文件夹下的文件a.txt</span><br><span class="line">(8) <span class="built_in">mkdir</span> XXX: 创建目录XXX</span><br><span class="line">(9) <span class="built_in">rm</span> XXX: 删除普通文件;  <span class="built_in">rm</span> XXX -r: 删除文件夹</span><br><span class="line">(10) <span class="built_in">mv</span> XXX YYY: 将XXX文件移动到YYY，和<span class="built_in">cp</span>命令一样，XXX和YYY可以是一个路径；重命名也是用这个命令</span><br><span class="line">(11) <span class="built_in">touch</span> XXX: 创建一个文件</span><br><span class="line">(12) <span class="built_in">cat</span> XXX: 展示文件XXX中的内容</span><br><span class="line">(13) 复制文本</span><br><span class="line">    windows/Linux下：Ctrl + insert，Mac下：<span class="built_in">command</span> + c</span><br><span class="line">(14) 粘贴文本</span><br><span class="line">    windows/Linux下：Shift + insert，Mac下：<span class="built_in">command</span> + v</span><br></pre></td></tr></table></figure>
<h4 id="21-tmux的介绍"><a class="markdownIt-Anchor" href="#21-tmux的介绍">#</a> 2.1 tmux 的介绍</h4>
<p>tips: 在终端中复制是 ctrl+insert，粘贴时 shift+insert。同时由于我使用的 tmux 有过特殊的设置文件所以很多默认的都是 ctrl+b 的操作，在此处都替换为了 ctrl+a 的操作。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">功能：</span><br><span class="line">    (<span class="number">1</span>) 分屏。</span><br><span class="line">    (<span class="number">2</span>) 允许断开Terminal连接后，继续运行进程。</span><br><span class="line">结构：</span><br><span class="line">    一个tmux可以包含多个session，一个session可以包含多个window，一个window可以包含多个pane。</span><br><span class="line">    实例：</span><br><span class="line">        tmux:</span><br><span class="line">            session <span class="number">0</span>:</span><br><span class="line">                window <span class="number">0</span>:</span><br><span class="line">                    pane <span class="number">0</span></span><br><span class="line">                    pane <span class="number">1</span></span><br><span class="line">                    pane <span class="number">2</span></span><br><span class="line">                    ...</span><br><span class="line">                window <span class="number">1</span></span><br><span class="line">                window <span class="number">2</span></span><br><span class="line">                ...</span><br><span class="line">            session <span class="number">1</span></span><br><span class="line">            session <span class="number">2</span></span><br><span class="line">            ...</span><br><span class="line">操作：</span><br><span class="line">    (<span class="number">1</span>) tmux：新建一个session，其中包含一个window，window中包含一个pane，pane里打开了一个shell对话框。</span><br><span class="line">    (<span class="number">2</span>) 按下Ctrl + a后手指松开，然后按%：将当前pane左右平分成两个pane。</span><br><span class="line">    (<span class="number">3</span>) 按下Ctrl + a后手指松开，然后按<span class="string">&quot;（注意是双引号&quot;</span>）：将当前pane上下平分成两个pane。</span><br><span class="line">    (<span class="number">4</span>) Ctrl + d：关闭当前pane；如果当前window的所有pane均已关闭，则自动关闭window；如果当前session的所有window均已关闭，则自动关闭session。</span><br><span class="line">    (<span class="number">5</span>) 鼠标点击可以选pane。</span><br><span class="line">    (<span class="number">6</span>) 按下ctrl + a后手指松开，然后按方向键：选择相邻的pane。</span><br><span class="line">    (<span class="number">7</span>) 鼠标拖动pane之间的分割线，可以调整分割线的位置。</span><br><span class="line">    (<span class="number">8</span>) 按住ctrl + a的同时按方向键，可以调整pane之间分割线的位置。</span><br><span class="line">    (<span class="number">9</span>) 按下ctrl + a后手指松开，然后按z：将当前pane全屏/取消全屏。</span><br><span class="line">    (<span class="number">10</span>) 按下ctrl + a后手指松开，然后按d：挂起当前session。</span><br><span class="line">    (<span class="number">11</span>) tmux a：打开之前挂起的session。</span><br><span class="line">    (<span class="number">12</span>) 按下ctrl + a后手指松开，然后按s：选择其它session。</span><br><span class="line">        方向键 —— 上：选择上一项 session/window/pane</span><br><span class="line">        方向键 —— 下：选择下一项 session/window/pane</span><br><span class="line">        方向键 —— 右：展开当前项 session/window</span><br><span class="line">        方向键 —— 左：闭合当前项 session/<span class="built_in">window</span></span><br><span class="line">    (<span class="number">13</span>) 按下Ctrl + a后手指松开，然后按c：在当前session中创建一个新的window。</span><br><span class="line">    (<span class="number">14</span>) 按下Ctrl + a后手指松开，然后按w：选择其他window，操作方法与(<span class="number">12</span>)完全相同。</span><br><span class="line">    (<span class="number">15</span>) 按下Ctrl + a后手指松开，然后按PageUp：翻阅当前pane内的内容。</span><br><span class="line">    (<span class="number">16</span>) 鼠标滚轮：翻阅当前pane内的内容。</span><br><span class="line">    (<span class="number">17</span>) 在tmux中选中文本时，需要按住shift键。（仅支持Windows和Linux，不支持Mac，不过该操作并不是必须的，因此影响不大）</span><br><span class="line">    (<span class="number">18</span>) tmux中复制/粘贴文本的通用方式：</span><br><span class="line">        (<span class="number">1</span>) 按下Ctrl + a后松开手指，然后按[</span><br><span class="line">        (<span class="number">2</span>) 用鼠标选中文本，被选中的文本会被自动复制到tmux的剪贴板</span><br><span class="line">        (<span class="number">3</span>) 按下Ctrl + a后松开手指，然后按]，会将剪贴板中的内容粘贴到光标处</span><br></pre></td></tr></table></figure>
<h4 id="22-vim教程"><a class="markdownIt-Anchor" href="#22-vim教程">#</a> 2.2 vim 教程</h4>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line">功能：</span><br><span class="line">    (<span class="number">1</span>) 命令行模式下的文本编辑器。</span><br><span class="line">    (<span class="number">2</span>) 根据文件扩展名自动判别编程语言。支持代码缩进、代码高亮等功能。</span><br><span class="line">    (<span class="number">3</span>) 使用方式：vim filename</span><br><span class="line">        如果已有该文件，则打开它。</span><br><span class="line">        如果没有该文件，则打开个一个新的文件，并命名为filename</span><br><span class="line">模式：</span><br><span class="line">    (<span class="number">1</span>) 一般命令模式</span><br><span class="line">        默认模式。命令输入方式：类似于打游戏放技能，按不同字符，即可进行不同操作。可以复制、粘贴、删除文本等。</span><br><span class="line">    (<span class="number">2</span>) 编辑模式</span><br><span class="line">        在一般命令模式里按下i，会进入编辑模式。</span><br><span class="line">        按下ESC会退出编辑模式，返回到一般命令模式。</span><br><span class="line">    (<span class="number">3</span>) 命令行模式</span><br><span class="line">        在一般命令模式里按下:/?三个字母中的任意一个，会进入命令行模式。命令行在最下面。</span><br><span class="line">        可以查找、替换、保存、退出、配置编辑器等。</span><br><span class="line">操作：</span><br><span class="line">    (<span class="number">1</span>) i：进入编辑模式</span><br><span class="line">    (<span class="number">2</span>) ESC：进入一般命令模式</span><br><span class="line">    (<span class="number">3</span>) h 或 左箭头键：光标向左移动一个字符</span><br><span class="line">    (<span class="number">4</span>) j 或 向下箭头：光标向下移动一个字符</span><br><span class="line">    (<span class="number">5</span>) k 或 向上箭头：光标向上移动一个字符</span><br><span class="line">    (<span class="number">6</span>) l 或 向右箭头：光标向右移动一个字符</span><br><span class="line">    (<span class="number">7</span>) n&lt;Space&gt;：n表示数字，按下数字后再按空格，光标会向右移动这一行的n个字符</span><br><span class="line">    (<span class="number">8</span>) <span class="number">0</span> 或 功能键[Home]：光标移动到本行开头</span><br><span class="line">    (<span class="number">9</span>) $ 或 功能键[End]：光标移动到本行末尾</span><br><span class="line">    (<span class="number">10</span>) G：光标移动到最后一行</span><br><span class="line">    (<span class="number">11</span>) :n 或 nG：n为数字，光标移动到第n行</span><br><span class="line">    (<span class="number">12</span>) gg：光标移动到第一行，相当于<span class="number">1</span>G</span><br><span class="line">    (<span class="number">13</span>) n&lt;Enter&gt;：n为数字，光标向下移动n行</span><br><span class="line">    (<span class="number">14</span>) /word：向光标之下寻找第一个值为word的字符串。</span><br><span class="line">    (<span class="number">15</span>) ?word：向光标之上寻找第一个值为word的字符串。</span><br><span class="line">    (<span class="number">16</span>) n：重复前一个查找操作</span><br><span class="line">    (<span class="number">17</span>) N：反向重复前一个查找操作</span><br><span class="line">    (<span class="number">18</span>) :n1,n2s/word1/word2/g：n1与n2为数字，在第n1行与n2行之间寻找word1这个字符串，并将该字符串替换为<span class="built_in">word2</span></span><br><span class="line">    (<span class="number">19</span>) :<span class="number">1</span>,$s/word1/word2/g：将全文的word1替换为<span class="built_in">word2</span></span><br><span class="line">    (<span class="number">20</span>) :<span class="number">1</span>,$s/word1/word2/gc：将全文的word1替换为word2，且在替换前要求用户确认。</span><br><span class="line">    (<span class="number">21</span>) v：选中文本</span><br><span class="line">    (<span class="number">22</span>) d：删除选中的文本</span><br><span class="line">    (<span class="number">23</span>) dd: 删除当前行</span><br><span class="line">    (<span class="number">24</span>) y：复制选中的文本</span><br><span class="line">    (<span class="number">25</span>) yy: 复制当前行</span><br><span class="line">    (<span class="number">26</span>) p: 将复制的数据在光标的下一行/下一个位置粘贴</span><br><span class="line">    (<span class="number">27</span>) u：撤销</span><br><span class="line">    (<span class="number">28</span>) Ctrl + r：取消撤销</span><br><span class="line">    (<span class="number">29</span>) 大于号 &gt;：将选中的文本整体向右缩进一次</span><br><span class="line">    (<span class="number">30</span>) 小于号 &lt;：将选中的文本整体向左缩进一次</span><br><span class="line">    (<span class="number">31</span>) :w 保存</span><br><span class="line">    (<span class="number">32</span>) :w! 强制保存</span><br><span class="line">    (<span class="number">33</span>) :q 退出</span><br><span class="line">    (<span class="number">34</span>) :q! 强制退出</span><br><span class="line">    (<span class="number">35</span>) :wq 保存并退出</span><br><span class="line">    (<span class="number">36</span>) :set paste 设置成粘贴模式，取消代码自动缩进</span><br><span class="line">    (<span class="number">37</span>) :set nopaste 取消粘贴模式，开启代码自动缩进</span><br><span class="line">    (<span class="number">38</span>) :set nu 显示行号</span><br><span class="line">    (<span class="number">39</span>) :set nonu 隐藏行号</span><br><span class="line">    (<span class="number">40</span>) gg=G：将全文代码格式化</span><br><span class="line">    (<span class="number">41</span>) :noh 关闭查找关键词高亮</span><br><span class="line">    (<span class="number">42</span>) Ctrl + q：当vim卡死时，可以取消当前正在执行的命令</span><br><span class="line">异常处理：</span><br><span class="line">    每次用vim编辑文件时，会自动创建一个.filename.swp的临时文件。</span><br><span class="line">    如果打开某个文件时，该文件的swp文件已存在，则会报错。此时解决办法有两种：</span><br><span class="line">        (<span class="number">1</span>) 找到正在打开该文件的程序，并退出</span><br><span class="line">        (<span class="number">2</span>) 直接删掉该swp文件即可</span><br></pre></td></tr></table></figure>
<h4 id="3-shell语法"><a class="markdownIt-Anchor" href="#3-shell语法">#</a> 3 shell 语法</h4>
<h5 id="31-概论"><a class="markdownIt-Anchor" href="#31-概论">#</a> 3.1 概论</h5>
<hr>
<p>shell 是我们通过命令行与操作系统沟通的语言。</p>
<p>shell 脚本可以直接在命令行中执行，也可以将一套逻辑组织成一个文件，方便复用。<br>
终端中的命令行可以看成是一个 “<strong>shell 脚本在逐行执行</strong>”。</p>
<p>Linux 中常见的 shell 脚本有很多种，常见的有：</p>
<ul>
<li>Bourne Shell( <code>/usr/bin/sh</code>  或 <code>/bin/sh</code> )</li>
<li>Bourne Again Shell( <code>/bin/bash</code> )</li>
<li>C Shell( <code>/usr/bin/csh</code> )</li>
<li>K Shell( <code>/usr/bin/ksh</code> )</li>
<li>zsh</li>
<li>…</li>
</ul>
<p>Linux 系统中一般默认使用 bash，所以接下来讲解 bash 中的语法。<br>
文件开头需要写 <code>#! /bin/bash</code> ，指明 bash 为脚本解释器。</p>
<p><strong>脚本示例</strong><br>
新建一个 <code>test.sh</code>  文件，内容如下：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /bin/bash</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Hello World!&quot;</span></span><br></pre></td></tr></table></figure>
<p><strong>运行方式</strong><br>
作为可执行文件</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">acs@9e0ebfcd82d7:~$ <span class="built_in">chmod</span> +x test.sh  <span class="comment"># 使脚本具有可执行权限</span></span><br><span class="line">acs@9e0ebfcd82d7:~$ ./test.sh  <span class="comment"># 当前路径下执行</span></span><br><span class="line">Hello World!  <span class="comment"># 脚本输出</span></span><br><span class="line">acs@9e0ebfcd82d7:~$ /home/acs/test.sh  <span class="comment"># 绝对路径下执行</span></span><br><span class="line">Hello World!  <span class="comment"># 脚本输出</span></span><br><span class="line">acs@9e0ebfcd82d7:~$ ~/test.sh  <span class="comment"># 家目录路径下执行</span></span><br><span class="line">Hello World!  <span class="comment"># 脚本输出</span></span><br></pre></td></tr></table></figure>
<p>用解释器执行</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">acs@9e0ebfcd82d7:~$ bash test.sh</span><br><span class="line">Hello World!  <span class="comment"># 脚本输出</span></span><br></pre></td></tr></table></figure>
<hr>
<h5 id="32-注释"><a class="markdownIt-Anchor" href="#32-注释">#</a> 3.2 注释</h5>
<hr>
<p><strong>单行注释</strong><br>
每行中 <code>#</code> 之后的内容均是注释。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 这是一行注释</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;Hello World&#x27;</span>  <span class="comment">#  这也是注释</span></span><br></pre></td></tr></table></figure>
<p><strong>多行注释</strong><br>
格式：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">:&lt;&lt;<span class="string">EOF</span></span><br><span class="line"><span class="string">第一行注释</span></span><br><span class="line"><span class="string">第二行注释</span></span><br><span class="line"><span class="string">第三行注释</span></span><br><span class="line"><span class="string">EOF</span></span><br></pre></td></tr></table></figure>
<p>其中 <code>EOF</code>  可以换成其它任意字符串。例如：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">:&lt;&lt;<span class="string">abc</span></span><br><span class="line"><span class="string">第一行注释</span></span><br><span class="line"><span class="string">第二行注释</span></span><br><span class="line"><span class="string">第三行注释</span></span><br><span class="line"><span class="string">abc</span></span><br><span class="line"></span><br><span class="line">:&lt;&lt;!</span><br><span class="line">第一行注释</span><br><span class="line">第二行注释</span><br><span class="line">第三行注释</span><br><span class="line">!</span><br></pre></td></tr></table></figure>
<hr>
<h5 id="33-变量"><a class="markdownIt-Anchor" href="#33-变量">#</a> 3.3 变量</h5>
<hr>
<p><strong>定义变量</strong><br>
定义变量，不需要加 <code>$</code>  符号，例如：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">name1=&#x27;yxc&#x27;  # 单引号定义字符串</span><br><span class="line">name2=&quot;yxc&quot;  # 双引号定义字符串</span><br><span class="line">name3=yxc    # 也可以不加引号，同样表示字符串</span><br></pre></td></tr></table></figure>
<p><strong>使用变量</strong><br>
使用变量，需要加上 <code>$</code>  符号，或者 <code>$&#123;&#125;</code>  符号。花括号是可选的，主要为了帮助解释器识别变量边界。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">name=yxc</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$name</span>  <span class="comment"># 输出yxc</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;name&#125;</span>  <span class="comment"># 输出yxc</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;name&#125;</span>acwing  <span class="comment"># 输出yxcacwing</span></span><br></pre></td></tr></table></figure>
<p><strong>只读变量</strong><br>
使用 <code>readonly</code>  或者 <code>declare</code>  可以将变量变为只读。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">name=yxc</span><br><span class="line"><span class="built_in">readonly</span> name</span><br><span class="line"><span class="built_in">declare</span> -r name  <span class="comment"># 两种写法均可</span></span><br><span class="line"></span><br><span class="line">name=abc  <span class="comment"># 会报错，因为此时name只读</span></span><br></pre></td></tr></table></figure>
<p><strong>删除变量</strong><br>
 <code>unset</code>  可以删除变量。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">name=yxc</span><br><span class="line"><span class="built_in">unset</span> name</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$name</span>  <span class="comment"># 输出空行</span></span><br></pre></td></tr></table></figure>
<p><strong>变量类型</strong></p>
<ol>
<li>
<p>自定义变量（局部变量）</p>
<p>子进程不能访问的变量</p>
</li>
<li>
<p>环境变量（全局变量）</p>
<p>子进程可以访问的变量</p>
</li>
</ol>
<p>自定义变量改成环境变量：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">acs@9e0ebfcd82d7:~$ name=yxc  <span class="comment"># 定义变量</span></span><br><span class="line">acs@9e0ebfcd82d7:~$ <span class="built_in">export</span> name  <span class="comment"># 第一种方法</span></span><br><span class="line">acs@9e0ebfcd82d7:~$ <span class="built_in">declare</span> -x name  <span class="comment"># 第二种方法</span></span><br></pre></td></tr></table></figure>
<p>环境变量改为自定义变量：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">acs@9e0ebfcd82d7:~$ <span class="built_in">export</span> name=yxc  <span class="comment"># 定义环境变量</span></span><br><span class="line">acs@9e0ebfcd82d7:~$ <span class="built_in">declare</span> +x name  <span class="comment"># 改为自定义变量</span></span><br></pre></td></tr></table></figure>
<p><strong>字符串</strong><br>
字符串可以用单引号，也可以用双引号，也可以不用引号。</p>
<p>单引号与双引号的区别：</p>
<ul>
<li>
<p>单引号中的内容会原样输出，不会执行、不会取变量；</p>
</li>
<li>
<p>双引号中的内容可以执行、可以取变量；</p>
</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">name=yxc  <span class="comment"># 不用引号</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;hello, $name \&quot;hh\&quot;&#x27;</span>  <span class="comment"># 单引号字符串，输出 hello, $name \&quot;hh\&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;hello, <span class="variable">$name</span> \&quot;hh\&quot;&quot;</span>  <span class="comment"># 双引号字符串，输出 hello, yxc &quot;hh&quot;</span></span><br></pre></td></tr></table></figure>
<p>获取字符串长度</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">name=<span class="string">&quot;yxc&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;#name&#125;</span>  <span class="comment"># 输出3</span></span><br></pre></td></tr></table></figure>
<p>提取子串</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">name=<span class="string">&quot;hello, yxc&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;name:0:5&#125;</span>  <span class="comment"># 提取从0开始的5个字符</span></span><br></pre></td></tr></table></figure>
<hr>
<h5 id="34-默认变量"><a class="markdownIt-Anchor" href="#34-默认变量">#</a> 3.4 默认变量</h5>
<p>文件参数变量<br>
在执行 shell 脚本时，可以向脚本传递参数。 <code>$1</code>  是第一个参数， <code>$2</code>  是第二个参数，以此类推。特殊的， <code>$0</code>  是文件名（包含路径）。例如：</p>
<p>创建文件 <code>test.sh</code> ：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;文件名：&quot;</span><span class="variable">$0</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;第一个参数：&quot;</span><span class="variable">$1</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;第二个参数：&quot;</span><span class="variable">$2</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;第三个参数：&quot;</span><span class="variable">$3</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;第四个参数：&quot;</span><span class="variable">$4</span></span><br></pre></td></tr></table></figure>
<p>然后执行该脚本：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">acs@9e0ebfcd82d7:~$ <span class="built_in">chmod</span> +x test.sh </span><br><span class="line">acs@9e0ebfcd82d7:~$ ./test.sh 1 2 3 4</span><br><span class="line">文件名：./test.sh</span><br><span class="line">第一个参数：1</span><br><span class="line">第二个参数：2</span><br><span class="line">第三个参数：3</span><br><span class="line">第四个参数：4</span><br></pre></td></tr></table></figure>
<p><strong>其它参数相关变量</strong></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>$#</code></td>
<td>代表文件传入的参数个数，如上例中值为 4</td>
</tr>
<tr>
<td><code>$*</code></td>
<td>由所有参数构成的用空格隔开的字符串，如上例中值为 <code>&quot;$1 $2 $3 $4&quot;</code></td>
</tr>
<tr>
<td><code>$@</code></td>
<td>每个参数分别用双引号括起来的字符串，如上例中值为 <code>&quot;$1&quot; &quot;$2&quot; &quot;$3&quot; &quot;$4&quot;</code></td>
</tr>
<tr>
<td><code>$$</code></td>
<td>脚本当前运行的进程 ID</td>
</tr>
<tr>
<td><code>$?</code></td>
<td>上一条命令的退出状态（注意不是 stdout，而是 exit code）。0 表示正常退出，其他值表示错误</td>
</tr>
<tr>
<td><code>$(command)</code></td>
<td>返回 <code>command</code>  这条命令的 stdout（可嵌套）</td>
</tr>
<tr>
<td>`command`</td>
<td>返回 <code>command</code>  这条命令的 stdout（不可嵌套）</td>
</tr>
</tbody>
</table>
<hr>
<h5 id="35-数组"><a class="markdownIt-Anchor" href="#35-数组">#</a> 3.5 数组</h5>
<p>数组中可以存放多个不同类型的值，只支持一维数组，初始化时不需要指明数组大小。<br>
数组<strong>下标从 0 开始</strong>。</p>
<p><strong>定义</strong><br>
数组用小括号表示，元素之间用空格隔开。例如：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">array=(1 abc <span class="string">&quot;def&quot;</span> yxc)</span><br></pre></td></tr></table></figure>
<p>也可以直接定义数组中某个元素的值：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">array[0]=1</span><br><span class="line">array[1]=abc</span><br><span class="line">array[2]=<span class="string">&quot;def&quot;</span></span><br><span class="line">array[3]=yxc</span><br></pre></td></tr></table></figure>
<p><strong>读取数组中某个元素的值</strong><br>
格式：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$&#123;array[index]&#125;</span></span><br></pre></td></tr></table></figure>
<p>例如：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">array=(1 abc <span class="string">&quot;def&quot;</span> yxc)</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;array[0]&#125;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;array[1]&#125;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;array[2]&#125;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;array[3]&#125;</span></span><br></pre></td></tr></table></figure>
<p><strong>读取整个数组</strong><br>
格式：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$&#123;array[@]&#125;</span>  <span class="comment"># 第一种写法</span></span><br><span class="line"><span class="variable">$&#123;array[*]&#125;</span>  <span class="comment"># 第二种写法</span></span><br></pre></td></tr></table></figure>
<p>例如：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">array=(1 abc <span class="string">&quot;def&quot;</span> yxc)</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;array[@]&#125;</span>  <span class="comment"># 第一种写法</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;array[*]&#125;</span>  <span class="comment"># 第二种写法</span></span><br></pre></td></tr></table></figure>
<p><strong>数组长度</strong><br>
类似于字符串</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$&#123;#array[@]&#125;</span>  <span class="comment"># 第一种写法</span></span><br><span class="line"><span class="variable">$&#123;#array[*]&#125;</span>  <span class="comment"># 第二种写法</span></span><br></pre></td></tr></table></figure>
<p>例如：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">array=(1 abc <span class="string">&quot;def&quot;</span> yxc)</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;#array[@]&#125;</span>  <span class="comment"># 第一种写法</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;#array[*]&#125;</span>  <span class="comment"># 第二种写法</span></span><br></pre></td></tr></table></figure>
<hr>
<h5 id="36-expr命令"><a class="markdownIt-Anchor" href="#36-expr命令">#</a> 3.6 expr 命令</h5>
<p><code>expr</code>  命令用于求表达式的值，格式为：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">expr</span> 表达式</span><br></pre></td></tr></table></figure>
<p>表达式说明：</p>
<ul>
<li>
<p>用空格隔开每一项</p>
</li>
<li>
<p>用反斜杠放在 shell 特定的字符前面（发现表达式运行错误时，可以试试转义）</p>
</li>
<li>
<p>对包含空格和其他特殊字符的字符串要用引号括起来</p>
</li>
<li>
<p>expr 会在 <code>stdout</code>  中输出结果。如果为逻辑关系表达式，则结果为真时， <code>stdout</code>  输出 1，否则输出 0。</p>
</li>
<li>
<p>expr 的 <code>exit code</code> ：如果为逻辑关系表达式，则结果为真时， <code>exit code</code>  为 0，否则为 1。</p>
</li>
</ul>
<p><strong>字符串表达式</strong></p>
<ul>
<li>
<p><code>length STRING</code></p>
<p>返回 <code>STRING</code>  的长度</p>
</li>
<li>
<p><code>index STRING CHARSET</code></p>
<p><code>CHARSET中</code> 任意单个字符在 <code>STRING</code>  中最前面的字符位置，<strong>下标从 1 开始</strong>。如果在 <code>STRING</code>  中完全不存在 <code>CHARSET中</code> 的字符，则返回 0。</p>
</li>
<li>
<p><code>substr STRING POSITION LENGTH</code></p>
<p>返回 <code>STRING</code>  字符串中从 <code>POSITION</code>  开始，长度最大为 <code>LENGTH</code>  的子串。如果 <code>POSITION</code>  或 <code>LENGTH</code>  为负数，0 或非数值，则返回空字符串。</p>
</li>
</ul>
<p>示例：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">str=<span class="string">&quot;Hello World!&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> `<span class="built_in">expr</span> length <span class="string">&quot;<span class="variable">$str</span>&quot;</span>`  <span class="comment"># ``不是单引号，表示执行该命令，输出12</span></span><br><span class="line"><span class="built_in">echo</span> `<span class="built_in">expr</span> index <span class="string">&quot;<span class="variable">$str</span>&quot;</span> aWd`  <span class="comment"># 输出7，下标从1开始</span></span><br><span class="line"><span class="built_in">echo</span> `<span class="built_in">expr</span> substr <span class="string">&quot;<span class="variable">$str</span>&quot;</span> 2 3`  <span class="comment"># 输出 ell</span></span><br></pre></td></tr></table></figure>
<p><strong>整数表达式</strong><br>
 <code>expr</code>  支持普通的算术操作，算术表达式优先级低于字符串表达式，高于逻辑关系表达式。</p>
<ul>
<li><code>+ -</code> <br>
 加减运算。两端参数会转换为整数，如果转换失败则报错。</li>
</ul>
<ul>
<li><code>* / %</code> <br>
 乘，除，取模运算。两端参数会转换为整数，如果转换失败则报错。</li>
</ul>
<ul>
<li><code>() </code> 可以改变优先级，但需要用反斜杠转义</li>
</ul>
<p>示例：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">a=3</span><br><span class="line">b=4</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> `<span class="built_in">expr</span> <span class="variable">$a</span> + <span class="variable">$b</span>`  <span class="comment"># 输出7</span></span><br><span class="line"><span class="built_in">echo</span> `<span class="built_in">expr</span> <span class="variable">$a</span> - <span class="variable">$b</span>`  <span class="comment"># 输出-1</span></span><br><span class="line"><span class="built_in">echo</span> `<span class="built_in">expr</span> <span class="variable">$a</span> \* <span class="variable">$b</span>`  <span class="comment"># 输出12，*需要转义</span></span><br><span class="line"><span class="built_in">echo</span> `<span class="built_in">expr</span> <span class="variable">$a</span> / <span class="variable">$b</span>`  <span class="comment"># 输出0，整除</span></span><br><span class="line"><span class="built_in">echo</span> `<span class="built_in">expr</span> <span class="variable">$a</span> % <span class="variable">$b</span>` <span class="comment"># 输出3</span></span><br><span class="line"><span class="built_in">echo</span> `<span class="built_in">expr</span> \( <span class="variable">$a</span> + 1 \) \* \( <span class="variable">$b</span> + 1 \)`  <span class="comment"># 输出20，值为(a + 1) * (b + 1)</span></span><br></pre></td></tr></table></figure>
<p><strong>逻辑关系表达式</strong></p>
<ul>
<li>
<p><code>|</code></p>
<p>如果第一个参数非空且非 0，则返回第一个参数的值，否则返回第二个参数的值，但要求第二个参数的值也是非空或非 0，否则返回 0。如果第一个参数是非空或非 0 时，不会计算第二个参数。</p>
</li>
<li>
<p><code>&amp;</code></p>
<p>如果两个参数都非空且非 0，则返回第一个参数，否则返回 0。如果第一个参为 0 或为空，则不会计算第二个参数。</p>
</li>
<li>
<p><code>&lt; &lt;= = == != &gt;= &gt;</code> <br>
 比较两端的参数，如果为 true，则返回 1，否则返回 0。”==” 是”=” 的同义词。”expr” 首先尝试将两端参数转换为整数，并做算术比较，如果转换失败，则按字符集排序规则做字符比较。</p>
</li>
<li>
<p><code>() </code> 可以改变优先级，但需要用反斜杠转义</p>
</li>
</ul>
<p>示例：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">a=3</span><br><span class="line">b=4</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> `<span class="built_in">expr</span> <span class="variable">$a</span> \&gt; <span class="variable">$b</span>`  <span class="comment"># 输出0，&gt;需要转义</span></span><br><span class="line"><span class="built_in">echo</span> `<span class="built_in">expr</span> <span class="variable">$a</span> <span class="string">&#x27;&lt;&#x27;</span> <span class="variable">$b</span>`  <span class="comment"># 输出1，也可以将特殊字符用引号引起来</span></span><br><span class="line"><span class="built_in">echo</span> `<span class="built_in">expr</span> <span class="variable">$a</span> <span class="string">&#x27;&gt;=&#x27;</span> <span class="variable">$b</span>`  <span class="comment"># 输出0</span></span><br><span class="line"><span class="built_in">echo</span> `<span class="built_in">expr</span> <span class="variable">$a</span> \&lt;\= <span class="variable">$b</span>`  <span class="comment"># 输出1</span></span><br><span class="line"></span><br><span class="line">c=0</span><br><span class="line">d=5</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> `<span class="built_in">expr</span> <span class="variable">$c</span> \&amp; <span class="variable">$d</span>`  <span class="comment"># 输出0</span></span><br><span class="line"><span class="built_in">echo</span> `<span class="built_in">expr</span> <span class="variable">$a</span> \&amp; <span class="variable">$b</span>`  <span class="comment"># 输出3</span></span><br><span class="line"><span class="built_in">echo</span> `<span class="built_in">expr</span> <span class="variable">$c</span> \| <span class="variable">$d</span>`  <span class="comment"># 输出5</span></span><br><span class="line"><span class="built_in">echo</span> `<span class="built_in">expr</span> <span class="variable">$a</span> \| <span class="variable">$b</span>`  <span class="comment"># 输出3</span></span><br></pre></td></tr></table></figure>
<hr>
<h5 id="37-read命令"><a class="markdownIt-Anchor" href="#37-read命令">#</a> 3.7 read 命令</h5>
<p><code>read</code>  命令用于从标准输入中读取单行数据。当读到文件结束符时， <code>exit code</code>  为 1，否则为 0。</p>
<p>参数说明</p>
<ul>
<li><code>-p</code> : 后面可以接提示信息</li>
<li><code>-t</code> ：后面跟秒数，定义输入字符的等待时间，超过等待时间后会自动忽略此命令</li>
</ul>
<p>实例：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">acs@9e0ebfcd82d7:~$ <span class="built_in">read</span> name  <span class="comment"># 读入name的值</span></span><br><span class="line">acwing yxc  <span class="comment"># 标准输入</span></span><br><span class="line">acs@9e0ebfcd82d7:~$ <span class="built_in">echo</span> <span class="variable">$name</span>  <span class="comment"># 输出name的值</span></span><br><span class="line">acwing yxc  <span class="comment">#标准输出</span></span><br><span class="line">acs@9e0ebfcd82d7:~$ <span class="built_in">read</span> -p <span class="string">&quot;Please input your name: &quot;</span> -t 30 name  <span class="comment"># 读入name的值，等待时间30秒</span></span><br><span class="line">Please input your name: acwing yxc  <span class="comment"># 标准输入</span></span><br><span class="line">acs@9e0ebfcd82d7:~$ <span class="built_in">echo</span> <span class="variable">$name</span>  <span class="comment"># 输出name的值</span></span><br><span class="line">acwing yxc  <span class="comment"># 标准输出</span></span><br></pre></td></tr></table></figure>
<hr>
<h5 id="38-echo命令"><a class="markdownIt-Anchor" href="#38-echo命令">#</a> 3.8 echo 命令</h5>
<p><code>echo</code>  用于输出字符串。命令格式：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> STRING</span><br></pre></td></tr></table></figure>
<p><strong>显示普通字符串</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Hello AC Terminal&quot;</span></span><br><span class="line"><span class="built_in">echo</span> Hello AC Terminal  <span class="comment"># 引号可以省略</span></span><br></pre></td></tr></table></figure>
<p><strong>显示转义字符</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;\&quot;Hello AC Terminal\&quot;&quot;</span>  <span class="comment"># 注意只能使用双引号，如果使用单引号，则不转义</span></span><br><span class="line"><span class="built_in">echo</span> \&quot;Hello AC Terminal\&quot;  <span class="comment"># 也可以省略双引号</span></span><br></pre></td></tr></table></figure>
<p><strong>显示变量</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">name=yxc</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;My name is <span class="variable">$name</span>&quot;</span>  <span class="comment"># 输出 My name is yxc</span></span><br></pre></td></tr></table></figure>
<p><strong>显示换行</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> -e <span class="string">&quot;Hi\n&quot;</span>  <span class="comment"># -e 开启转义</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;acwing&quot;</span></span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Hi</span><br><span class="line"></span><br><span class="line">acwing</span><br></pre></td></tr></table></figure>
<p><strong>显示不换行</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> -e <span class="string">&quot;Hi \c&quot;</span> <span class="comment"># -e 开启转义 \c 不换行</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;acwing&quot;</span></span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Hi acwing</span><br></pre></td></tr></table></figure>
<p><strong>显示结果定向至文件</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Hello World&quot;</span> &gt; output.txt  <span class="comment"># 将内容以覆盖的方式输出到output.txt中</span></span><br></pre></td></tr></table></figure>
<p><strong>原样输出字符串，不进行转义或取变量 (用单引号)</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">name=acwing</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;$name\&quot;&#x27;</span></span><br></pre></td></tr></table></figure>
<p>输出结果</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$name</span>\&quot;</span><br></pre></td></tr></table></figure>
<p>显示命令的执行结果</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> `<span class="built_in">date</span>`</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Wed Sep 1 11:45:33 CST 2021</span><br></pre></td></tr></table></figure>
<hr>
<h5 id="39-printf命令"><a class="markdownIt-Anchor" href="#39-printf命令">#</a> 3.9 printf 命令</h5>
<p><code>printf</code>  命令用于格式化输出，类似于 <code>C/C++</code>  中的 <code>printf</code>  函数。</p>
<p>默认<strong>不会在字符串末尾添加换行符</strong>。</p>
<p>命令格式：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">printf</span> format-string [arguments...]</span><br></pre></td></tr></table></figure>
<p><strong>用法示例</strong><br>
脚本内容：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">printf</span> <span class="string">&quot;%10d.\n&quot;</span> 123  <span class="comment"># 占10位，右对齐</span></span><br><span class="line"><span class="built_in">printf</span> <span class="string">&quot;%-10.2f.\n&quot;</span> 123.123321  <span class="comment"># 占10位，保留2位小数，左对齐</span></span><br><span class="line"><span class="built_in">printf</span> <span class="string">&quot;My name is %s\n&quot;</span> <span class="string">&quot;yxc&quot;</span>  <span class="comment"># 格式化输出字符串</span></span><br><span class="line"><span class="built_in">printf</span> <span class="string">&quot;%d * %d = %d\n&quot;</span>  2 3 `<span class="built_in">expr</span> 2 \* 3` <span class="comment"># 表达式的值作为参数</span></span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<h2 id="-code48-"><a class="markdownIt-Anchor" href="#-code48-">#</a> <figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">   123.</span><br><span class="line">123.12    .</span><br><span class="line">My name is yxc</span><br><span class="line">2 * 3 = 6</span><br></pre></td></tr></table></figure></h2>
<h5 id="310-test命令与判断符号"><a class="markdownIt-Anchor" href="#310-test命令与判断符号">#</a> 3.10 test 命令与判断符号 []</h5>
<p><strong>逻辑运算符 &amp;&amp; 和 ||</strong></p>
<ul>
<li>
<p><code>&amp;&amp;</code>  表示与， <code>|| </code> 表示或</p>
</li>
<li>
<p>二者具有短路原则：</p>
<p><code>expr1 &amp;&amp; expr2</code> ：当 <code>expr1</code>  为假时，直接忽略 <code>expr2</code></p>
<p><code>expr1 || expr2</code> ：当 <code>expr1</code>  为真时，直接忽略 <code>expr2</code></p>
</li>
<li>
<p>表达式的 <code>exit code</code>  为 0，表示真；为非零，表示假。（<strong>与 <code>C/C++</code>  中的定义相反</strong>）</p>
</li>
</ul>
<p><strong>test 命令</strong><br>
在命令行中输入 <code>man test</code> ，可以查看 <code>test</code>  命令的用法。</p>
<p><code>test</code>  命令用于判断文件类型，以及对变量做比较。</p>
<p><code>test</code>  命令用 <code>exit code</code>  返回结果，而不是使用 <code>stdout</code> 。0 表示真，非 0 表示假。</p>
<p>例如：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">test</span> 2 -lt 3  <span class="comment"># 为真，返回值为0</span></span><br><span class="line"><span class="built_in">echo</span> $?  <span class="comment"># 输出上个命令的返回值，输出0</span></span><br></pre></td></tr></table></figure>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">acs@9e0ebfcd82d7:~$ <span class="built_in">ls</span>  <span class="comment"># 列出当前目录下的所有文件</span></span><br><span class="line">homework  output.txt  test.sh  tmp</span><br><span class="line">acs@9e0ebfcd82d7:~$ <span class="built_in">test</span> -e test.sh &amp;&amp; <span class="built_in">echo</span> <span class="string">&quot;exist&quot;</span> || <span class="built_in">echo</span> <span class="string">&quot;Not exist&quot;</span></span><br><span class="line">exist  <span class="comment"># test.sh 文件存在</span></span><br><span class="line">acs@9e0ebfcd82d7:~$ <span class="built_in">test</span> -e test2.sh &amp;&amp; <span class="built_in">echo</span> <span class="string">&quot;exist&quot;</span> || <span class="built_in">echo</span> <span class="string">&quot;Not exist&quot;</span></span><br><span class="line">Not exist  <span class="comment"># testh2.sh 文件不存在</span></span><br></pre></td></tr></table></figure>
<p><strong>文件类型判断</strong><br>
命令格式：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">test</span> -e filename  <span class="comment"># 判断文件是否存在</span></span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>测试参数</th>
<th>代表意义</th>
</tr>
</thead>
<tbody>
<tr>
<td>-e</td>
<td>文件是否存在</td>
</tr>
<tr>
<td>-f</td>
<td>是否为文件</td>
</tr>
<tr>
<td>-d</td>
<td>是否为目录</td>
</tr>
</tbody>
</table>
<p><strong>文件权限判断</strong><br>
命令格式：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">test</span> -r filename  <span class="comment"># 判断文件是否可读</span></span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>测试参数</th>
<th>代表意义</th>
</tr>
</thead>
<tbody>
<tr>
<td>-r</td>
<td>文件是否可读</td>
</tr>
<tr>
<td>-w</td>
<td>文件是否可写</td>
</tr>
<tr>
<td>-x</td>
<td>文件是否可执行</td>
</tr>
<tr>
<td>-s</td>
<td>是否为非空文件</td>
</tr>
</tbody>
</table>
<p><strong>整数间的比较</strong><br>
命令格式：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">test</span> <span class="variable">$a</span> -eq <span class="variable">$b</span>  <span class="comment"># a是否等于b</span></span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>测试参数</th>
<th>代表意义</th>
</tr>
</thead>
<tbody>
<tr>
<td>-eq</td>
<td>a 是否等于 b</td>
</tr>
<tr>
<td>-ne</td>
<td>a 是否不等于 b</td>
</tr>
<tr>
<td>-gt</td>
<td>a 是否大于 b</td>
</tr>
<tr>
<td>-lt</td>
<td>a 是否小于 b</td>
</tr>
<tr>
<td>-ge</td>
<td>a 是否大于等于 b</td>
</tr>
<tr>
<td>-le</td>
<td>a 是否小于等于 b</td>
</tr>
</tbody>
</table>
<p><strong>字符串比较</strong></p>
<table>
<thead>
<tr>
<th>测试参数</th>
<th>代表意义</th>
</tr>
</thead>
<tbody>
<tr>
<td>test -z STRING</td>
<td>判断 STRING 是否为空，如果为空，则返回 true</td>
</tr>
<tr>
<td>test -n STRING</td>
<td>判断 STRING 是否非空，如果非空，则返回 true（-n 可以省略）</td>
</tr>
<tr>
<td>test str1 == str2</td>
<td>判断 str1 是否等于 str2</td>
</tr>
<tr>
<td>test str1 != str2</td>
<td>判断 str1 是否不等于 str2</td>
</tr>
</tbody>
</table>
<p><strong>多重条件判定</strong><br>
命令格式：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">test</span> -r filename -a -x filename</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>测试参数</th>
<th>代表意义</th>
</tr>
</thead>
<tbody>
<tr>
<td>-a</td>
<td>两条件是否同时成立</td>
</tr>
<tr>
<td>-o</td>
<td>两条件是否至少一个成立</td>
</tr>
<tr>
<td>!</td>
<td>取反。如 test ! -x file，当 file 不可执行时，返回 true</td>
</tr>
</tbody>
</table>
<p><strong>判断符号 []</strong><br>
 <code>[]</code>  与 <code>test</code>  用法几乎一模一样，更常用于 <code>if</code>  语句中。另外 <code>[[]]</code>  是 <code>[]</code>  的加强版，支持的特性更多。</p>
<p>例如：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[ 2 -lt 3 ]  <span class="comment"># 为真，返回值为0</span></span><br><span class="line"><span class="built_in">echo</span> $?  <span class="comment"># 输出上个命令的返回值，输出0</span></span><br></pre></td></tr></table></figure>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">acs@9e0ebfcd82d7:~$ <span class="built_in">ls</span>  <span class="comment"># 列出当前目录下的所有文件</span></span><br><span class="line">homework  output.txt  test.sh  tmp</span><br><span class="line">acs@9e0ebfcd82d7:~$ [ -e test.sh ] &amp;&amp; <span class="built_in">echo</span> <span class="string">&quot;exist&quot;</span> || <span class="built_in">echo</span> <span class="string">&quot;Not exist&quot;</span></span><br><span class="line">exist  <span class="comment"># test.sh 文件存在</span></span><br><span class="line">acs@9e0ebfcd82d7:~$ [ -e test2.sh ] &amp;&amp; <span class="built_in">echo</span> <span class="string">&quot;exist&quot;</span> || <span class="built_in">echo</span> <span class="string">&quot;Not exist&quot;</span></span><br><span class="line">Not exist  <span class="comment"># testh2.sh 文件不存在</span></span><br></pre></td></tr></table></figure>
<p>注意：</p>
<ul>
<li><code>[]</code>  内的每一项都要用空格隔开</li>
<li>中括号内的变量，最好用双引号括起来</li>
<li>中括号内的常数，最好用单或双引号括起来</li>
</ul>
<p>例如：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">name=<span class="string">&quot;acwing yxc&quot;</span></span><br><span class="line">[ <span class="variable">$name</span> == <span class="string">&quot;acwing yxc&quot;</span> ]  <span class="comment"># 错误，等价于 [ acwing yxc == &quot;acwing yxc&quot; ]，参数太多</span></span><br><span class="line">[ <span class="string">&quot;<span class="variable">$name</span>&quot;</span> == <span class="string">&quot;acwing yxc&quot;</span> ]  <span class="comment"># 正确</span></span><br></pre></td></tr></table></figure>
<hr>
<h5 id="311-判断语句"><a class="markdownIt-Anchor" href="#311-判断语句">#</a> 3.11 判断语句</h5>
<p><strong>if…then 形式</strong><br>
类似于 <code>C/C++</code>  中的 <code>if-else</code>  语句。</p>
<p><strong>单层 if</strong><br>
 命令格式：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> condition</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">    语句1</span><br><span class="line">    语句2</span><br><span class="line">    ...</span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>
<p>示例：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">a=3</span><br><span class="line">b=4</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ <span class="string">&quot;<span class="variable">$a</span>&quot;</span> -lt <span class="string">&quot;<span class="variable">$b</span>&quot;</span> ] &amp;&amp; [ <span class="string">&quot;<span class="variable">$a</span>&quot;</span> -gt 2 ]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$&#123;a&#125;</span>在范围内</span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">3在范围内</span><br></pre></td></tr></table></figure>
<p><strong>单层 if-else</strong><br>
 命令格式</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> condition</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">    语句1</span><br><span class="line">    语句2</span><br><span class="line">    ...</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    语句1</span><br><span class="line">    语句2</span><br><span class="line">    ...</span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>
<p>示例：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">a=3</span><br><span class="line">b=4</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> ! [ <span class="string">&quot;<span class="variable">$a</span>&quot;</span> -lt <span class="string">&quot;<span class="variable">$b</span>&quot;</span> ]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$&#123;a&#125;</span>不小于<span class="variable">$&#123;b&#125;</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$&#123;a&#125;</span>小于<span class="variable">$&#123;b&#125;</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">3小于4</span><br></pre></td></tr></table></figure>
<p><strong>多层 if-elif-elif-else</strong><br>
 命令格式</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> condition</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">    语句1</span><br><span class="line">    语句2</span><br><span class="line">    ...</span><br><span class="line"><span class="keyword">elif</span> condition</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">    语句1</span><br><span class="line">    语句2</span><br><span class="line">    ...</span><br><span class="line"><span class="keyword">elif</span> condition</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">    语句1</span><br><span class="line">    语句2</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    语句1</span><br><span class="line">    语句2</span><br><span class="line">    ...</span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>
<p>示例：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">a=4</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$a</span> -eq 1 ]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$&#123;a&#125;</span>等于1</span><br><span class="line"><span class="keyword">elif</span> [ <span class="variable">$a</span> -eq 2 ]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$&#123;a&#125;</span>等于2</span><br><span class="line"><span class="keyword">elif</span> [ <span class="variable">$a</span> -eq 3 ]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$&#123;a&#125;</span>等于3</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="built_in">echo</span> 其他</span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">其他</span><br></pre></td></tr></table></figure>
<p><strong>case…esac 形式</strong><br>
类似于 <code>C/C++</code>  中的 <code>switch</code>  语句。</p>
<p>命令格式</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">case</span> $变量名称 <span class="keyword">in</span></span><br><span class="line">    值1)</span><br><span class="line">        语句1</span><br><span class="line">        语句2</span><br><span class="line">        ...</span><br><span class="line">        ;;  <span class="comment"># 类似于C/C++中的break</span></span><br><span class="line">    值2)</span><br><span class="line">        语句1</span><br><span class="line">        语句2</span><br><span class="line">        ...</span><br><span class="line">        ;;</span><br><span class="line">    *)  <span class="comment"># 类似于C/C++中的default</span></span><br><span class="line">        语句1</span><br><span class="line">        语句2</span><br><span class="line">        ...</span><br><span class="line">        ;;</span><br><span class="line"><span class="keyword">esac</span></span><br></pre></td></tr></table></figure>
<p>示例：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">a=4</span><br><span class="line"></span><br><span class="line"><span class="keyword">case</span> <span class="variable">$a</span> <span class="keyword">in</span></span><br><span class="line">    1)</span><br><span class="line">        <span class="built_in">echo</span> <span class="variable">$&#123;a&#125;</span>等于1</span><br><span class="line">        ;;  </span><br><span class="line">    2)</span><br><span class="line">        <span class="built_in">echo</span> <span class="variable">$&#123;a&#125;</span>等于2</span><br><span class="line">        ;;  </span><br><span class="line">    3)                                                </span><br><span class="line">        <span class="built_in">echo</span> <span class="variable">$&#123;a&#125;</span>等于3</span><br><span class="line">        ;;  </span><br><span class="line">    *)</span><br><span class="line">        <span class="built_in">echo</span> 其他</span><br><span class="line">        ;;  </span><br><span class="line"><span class="keyword">esac</span></span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">其他</span><br></pre></td></tr></table></figure>
<hr>
<h5 id="512-循环语句"><a class="markdownIt-Anchor" href="#512-循环语句">#</a> 5.12 循环语句</h5>
<p><strong>for…in…do…done</strong><br>
 命令格式：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> var <span class="keyword">in</span> val1 val2 val3</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    语句1</span><br><span class="line">    语句2</span><br><span class="line">    ...</span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>
<p>示例 1，输出 a 2 cc，每个元素一行：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> a 2 cc</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$i</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>
<p>示例 2，输出当前路径下的所有文件名，每个文件名一行：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> file <span class="keyword">in</span> `<span class="built_in">ls</span>`</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$file</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>
<p>示例 3，输出 1-10</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> $(<span class="built_in">seq</span> 1 10)</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$i</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>
<p>示例 4，使用 <code>&#123;1..10&#125; 或者 &#123;a..z&#125;</code></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> &#123;a..z&#125;</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$i</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>
<p><strong>for ((…;…;…)) do…done</strong><br>
 命令格式：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> ((expression; condition; expression))</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    语句1</span><br><span class="line">    语句2</span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>
<p>示例，输出 1-10，每个数占一行：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> ((i=1; i&lt;=10; i++))</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$i</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>
<p><strong>while…do…done 循环</strong><br>
命令格式：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> condition</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    语句1</span><br><span class="line">    语句2</span><br><span class="line">    ...</span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>
<p>示例，文件结束符为 <code>Ctrl+d</code> ，输入文件结束符后 <code>read</code>  指令返回 false。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> <span class="built_in">read</span> name</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$name</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>
<p><strong>until…do…done 循环</strong><br>
当条件为真时结束。</p>
<p>命令格式：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">until condition</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    语句1</span><br><span class="line">    语句2</span><br><span class="line">    ...</span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>
<p>示例，当用户输入 <code>yes</code>  或者 <code>YES</code>  时结束，否则一直等待读入。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">until [ <span class="string">&quot;<span class="variable">$&#123;word&#125;</span>&quot;</span> == <span class="string">&quot;yes&quot;</span> ] || [ <span class="string">&quot;<span class="variable">$&#123;word&#125;</span>&quot;</span> == <span class="string">&quot;YES&quot;</span> ]</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="built_in">read</span> -p <span class="string">&quot;Please input yes/YES to stop this program: &quot;</span> word</span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>
<p><strong>break 命令</strong><br>
跳出当前一层循环，注意与 <code>C/C++</code>  不同的是： <code>break</code>  不能跳出 <code>case</code>  语句。</p>
<p>示例</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> <span class="built_in">read</span> name</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="keyword">for</span> ((i=1;i&lt;=10;i++))</span><br><span class="line">    <span class="keyword">do</span></span><br><span class="line">        <span class="keyword">case</span> <span class="variable">$i</span> <span class="keyword">in</span></span><br><span class="line">            8)</span><br><span class="line">                <span class="built_in">break</span></span><br><span class="line">                ;;</span><br><span class="line">            *)</span><br><span class="line">                <span class="built_in">echo</span> <span class="variable">$i</span></span><br><span class="line">                ;;</span><br><span class="line">        <span class="keyword">esac</span></span><br><span class="line">    <span class="keyword">done</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>
<p>该示例每读入非 EOF 的字符串，会输出一遍 1-7。<br>
该程序可以输入 <code>Ctrl+d</code>  文件结束符来结束，也可以直接用 <code>Ctrl+c</code>  杀掉该进程。</p>
<p><strong>continue 命令</strong><br>
跳出当前循环。</p>
<p>示例：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> ((i=1;i&lt;=10;i++))</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="keyword">if</span> [ `<span class="built_in">expr</span> <span class="variable">$i</span> % 2` -eq 0 ]</span><br><span class="line">    <span class="keyword">then</span></span><br><span class="line">        <span class="built_in">continue</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$i</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>
<p>该程序输出 1-10 中的所有奇数。</p>
<p><strong>死循环的处理方式</strong><br>
如果 AC Terminal 可以打开该程序，则输入 <code>Ctrl+c</code>  即可。</p>
<p>否则可以直接关闭进程：</p>
<ol>
<li>使用 <code>top</code>  命令找到进程的 PID</li>
<li>输入 <code>kill -9 PID</code>  即可关掉此进程</li>
</ol>
<hr>
<h5 id="513-函数"><a class="markdownIt-Anchor" href="#513-函数">#</a> 5.13 函数</h5>
<p><code>bash</code>  中的函数类似于 <code>C/C++</code>  中的函数，但 <code>return</code>  的返回值与 C/C++ 不同，返回的是 <code>exit code</code> ，取值为 0-255，0 表示正常结束。</p>
<p>如果想获取函数的输出结果，可以通过 <code>echo</code>  输出到 <code>stdout</code>  中，然后通过 <code>$(function_name)</code>  来获取 <code>stdout</code>  中的结果。</p>
<p>函数的 <code>return</code>  值可以通过 <code>$?</code>  来获取。</p>
<p>命令格式：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[<span class="keyword">function</span>] <span class="function"><span class="title">func_name</span></span>() &#123;  <span class="comment"># function关键字可以省略</span></span><br><span class="line">    语句1</span><br><span class="line">    语句2</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>不获取 <code> return</code>  值和 <code>stdout</code>  值</strong><br>
示例</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">func</span></span>() &#123;</span><br><span class="line">    name=yxc</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Hello <span class="variable">$name</span>&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Hello yxc</span><br></pre></td></tr></table></figure>
<p><strong>获取 <code> return</code>  值和 <code>stdout</code>  值</strong><br>
不写 <code>return</code>  时，默认 <code>return 0</code> 。</p>
<p>示例</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">func</span></span>() &#123;</span><br><span class="line">    name=yxc</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Hello <span class="variable">$name</span>&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">return</span> 123</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">output=$(func)</span><br><span class="line">ret=$?</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;output = <span class="variable">$output</span>&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;return = <span class="variable">$ret</span>&quot;</span></span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">output = Hello yxc</span><br><span class="line"><span class="built_in">return</span> = 123</span><br></pre></td></tr></table></figure>
<p><strong>函数的输入参数</strong><br>
在函数内， <code>$1</code>  表示第一个输入参数， <code>$2</code>  表示第二个输入参数，依此类推。</p>
<p>注意：函数内的 <code>$0</code>  仍然是文件名，而不是函数名。</p>
<p>示例：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">func</span></span>() &#123;  <span class="comment"># 递归计算 $1 + ($1 - 1) + ($1 - 2) + ... + 0</span></span><br><span class="line">    word=<span class="string">&quot;&quot;</span></span><br><span class="line">    <span class="keyword">while</span> [ <span class="string">&quot;<span class="variable">$&#123;word&#125;</span>&quot;</span> != <span class="string">&#x27;y&#x27;</span> ] &amp;&amp; [ <span class="string">&quot;<span class="variable">$&#123;word&#125;</span>&quot;</span> != <span class="string">&#x27;n&#x27;</span> ]</span><br><span class="line">    <span class="keyword">do</span></span><br><span class="line">        <span class="built_in">read</span> -p <span class="string">&quot;要进入func(<span class="variable">$1</span>)函数吗？请输入y/n：&quot;</span> word</span><br><span class="line">    <span class="keyword">done</span></span><br><span class="line">	<span class="keyword">if</span> [ <span class="string">&quot;<span class="variable">$word</span>&quot;</span> == <span class="string">&#x27;n&#x27;</span> ]</span><br><span class="line">	<span class="keyword">then</span></span><br><span class="line">         <span class="built_in">echo</span> 0</span><br><span class="line">    	<span class="built_in">return</span> 0</span><br><span class="line">	<span class="keyword">fi</span>  </span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> [ <span class="variable">$1</span> -le 0 ] </span><br><span class="line">	<span class="keyword">then</span></span><br><span class="line">    	<span class="built_in">echo</span> 0</span><br><span class="line">    	<span class="built_in">return</span> 0</span><br><span class="line">	<span class="keyword">fi</span>  </span><br><span class="line"></span><br><span class="line">	<span class="built_in">sum</span>=$(func $(<span class="built_in">expr</span> <span class="variable">$1</span> - 1))</span><br><span class="line">	<span class="built_in">echo</span> $(<span class="built_in">expr</span> <span class="variable">$sum</span> + <span class="variable">$1</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> $(func 10)</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">55</span><br></pre></td></tr></table></figure>
<p><strong>函数内的局部变量</strong><br>
可以在函数内定义局部变量，作用范围仅在当前函数内。</p>
<p>可以在递归函数中定义局部变量。</p>
<p>命令格式：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">local</span> 变量名=变量值</span><br></pre></td></tr></table></figure>
<p>例如：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">func</span></span>() &#123;</span><br><span class="line">    <span class="built_in">local</span> name=yxc</span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$name</span></span><br><span class="line">&#125;</span><br><span class="line">func</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$name</span></span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yxc</span><br></pre></td></tr></table></figure>
<p>第一行为函数内的 name 变量，第二行为函数外调用 name 变量，会发现此时该变量不存在。</p>
<hr>
<h5 id="514-exit命令"><a class="markdownIt-Anchor" href="#514-exit命令">#</a> 5.14 exit 命令</h5>
<p><code>exit</code>  命令用来退出当前 <code>shell</code>  进程，并返回一个退出状态；使用 <code>$?</code>  可以接收这个退出状态。</p>
<p><code>exit</code>  命令可以接受一个整数值作为参数，代表退出状态。如果不指定，默认状态值是 0。</p>
<p><code>exit</code>  退出状态只能是一个介于 0~255 之间的整数，其中只有 0 表示成功，其它值都表示失败。</p>
<p>示例：</p>
<p>创建脚本 <code>test.sh</code> ，内容如下：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$#</span> -ne 1 ]  <span class="comment"># 如果传入参数个数等于1，则正常退出；否则非正常退出。</span></span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;arguments not valid&quot;</span></span><br><span class="line">    <span class="built_in">exit</span> 1</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;arguments valid&quot;</span></span><br><span class="line">    <span class="built_in">exit</span> 0</span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>
<p>执行该脚本：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">acs@9e0ebfcd82d7:~$ <span class="built_in">chmod</span> +x test.sh </span><br><span class="line">acs@9e0ebfcd82d7:~$ ./test.sh acwing</span><br><span class="line">arguments valid</span><br><span class="line">acs@9e0ebfcd82d7:~$ <span class="built_in">echo</span> $?  <span class="comment"># 传入一个参数，则正常退出，exit code为0</span></span><br><span class="line">0</span><br><span class="line">acs@9e0ebfcd82d7:~$ ./test.sh </span><br><span class="line">arguments not valid</span><br><span class="line">acs@9e0ebfcd82d7:~$ <span class="built_in">echo</span> $?  <span class="comment"># 传入参数个数不是1，则非正常退出，exit code为1</span></span><br><span class="line">1</span><br></pre></td></tr></table></figure>
<hr>
<h5 id="515-文件重定向"><a class="markdownIt-Anchor" href="#515-文件重定向">#</a> 5.15 文件重定向</h5>
<p>每个进程默认打开 3 个文件描述符：</p>
<ul>
<li><code>stdin</code>  标准输入，从命令行读取数据，文件描述符为 0</li>
<li><code>stdout</code>  标准输出，向命令行输出数据，文件描述符为 1</li>
<li><code>stderr</code>  标准错误输出，向命令行输出数据，文件描述符为 2</li>
</ul>
<p>可以用文件重定向将这三个文件重定向到其他文件中。</p>
<p><strong>重定向命令列表</strong></p>
<table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>command &gt; file</code></td>
<td>将 <code>stdout</code>  重定向到 <code>file</code>  中</td>
</tr>
<tr>
<td><code>command &lt; file</code></td>
<td>将 <code>stdin</code>  重定向到 <code>file</code>  中</td>
</tr>
<tr>
<td><code>command &gt;&gt; file</code></td>
<td>将 <code>stdout</code>  以追加方式重定向到 <code>file</code>  中</td>
</tr>
<tr>
<td><code>command n&gt; file</code></td>
<td>将文件描述符 <code>n</code>  重定向到 <code>file</code>  中</td>
</tr>
<tr>
<td><code>command n&gt;&gt; file</code></td>
<td>将文件描述符 <code>n</code>  以追加方式重定向到 <code>file</code>  中</td>
</tr>
</tbody>
</table>
<p><strong>输入和输出重定向</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> -e <span class="string">&quot;Hello \c&quot;</span> &gt; output.txt  <span class="comment"># 将stdout重定向到output.txt中</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;World&quot;</span> &gt;&gt; output.txt  <span class="comment"># 将字符串追加到output.txt中</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">read</span> str &lt; output.txt  <span class="comment"># 从output.txt中读取字符串</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$str</span>  <span class="comment"># 输出结果：Hello World</span></span><br></pre></td></tr></table></figure>
<p><strong>同时重定向 stdin 和 stdout</strong><br>
 创建 bash 脚本：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">read</span> a</span><br><span class="line"><span class="built_in">read</span> b</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> $(<span class="built_in">expr</span> <span class="string">&quot;<span class="variable">$a</span>&quot;</span> + <span class="string">&quot;<span class="variable">$b</span>&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>创建 input.txt，里面的内容为：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">3</span><br><span class="line">4</span><br></pre></td></tr></table></figure>
<p>执行命令：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">acs@9e0ebfcd82d7:~$ <span class="built_in">chmod</span> +x test.sh  <span class="comment"># 添加可执行权限</span></span><br><span class="line">acs@9e0ebfcd82d7:~$ ./test.sh &lt; input.txt &gt; output.txt  <span class="comment"># 从input.txt中读取内容，将输出写入output.txt中</span></span><br><span class="line">acs@9e0ebfcd82d7:~$ <span class="built_in">cat</span> output.txt  <span class="comment"># 查看output.txt中的内容</span></span><br><span class="line">7</span><br></pre></td></tr></table></figure>
<hr>
<h5 id="516-引入外部脚本"><a class="markdownIt-Anchor" href="#516-引入外部脚本">#</a> 5.16 引入外部脚本</h5>
<p>类似于 <code>C/C++</code>  中的 <code>include</code>  操作， <code>bash</code>  也可以引入其他文件中的代码。</p>
<p>语法格式：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">. filename  <span class="comment"># 注意点和文件名之间有一个空格</span></span><br><span class="line"></span><br><span class="line">或</span><br><span class="line"></span><br><span class="line"><span class="built_in">source</span> filename</span><br></pre></td></tr></table></figure>
<p><strong>示例</strong><br>
创建 <code>test1.sh</code> ，内容为：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /bin/bash</span></span><br><span class="line"></span><br><span class="line">name=yxc  <span class="comment"># 定义变量name</span></span><br></pre></td></tr></table></figure>
<p>然后创建 <code>test2.sh</code> ，内容为：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">source</span> test1.sh <span class="comment"># 或 . test1.sh</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> My name is: <span class="variable">$name</span>  <span class="comment"># 可以使用test1.sh中的变量</span></span><br></pre></td></tr></table></figure>
<p>执行命令：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">acs@9e0ebfcd82d7:~$ <span class="built_in">chmod</span> +x test2.sh </span><br><span class="line">acs@9e0ebfcd82d7:~$ ./test2.sh </span><br><span class="line">My name is: yxc</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="6-ssh"><a class="markdownIt-Anchor" href="#6-ssh">#</a> 6 ssh</h4>
<h5 id="61-ssh登录"><a class="markdownIt-Anchor" href="#61-ssh登录">#</a> 6.1 ssh 登录</h5>
<p>远程登录服务器：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh user@hostname</span><br></pre></td></tr></table></figure>
<ul>
<li><code>user</code> : 用户名</li>
<li><code>hostname</code> : IP 地址或域名</li>
</ul>
<p>第一次登录时会提示：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">The authenticity of host <span class="string">&#x27;123.57.47.211 (123.57.47.211)&#x27;</span> can<span class="string">&#x27;t be established.</span></span><br><span class="line"><span class="string">ECDSA key fingerprint is SHA256:iy237yysfCe013/l+kpDGfEG9xxHxm0dnxnAbJTPpG8.</span></span><br><span class="line"><span class="string">Are you sure you want to continue connecting (yes/no/[fingerprint])?</span></span><br></pre></td></tr></table></figure>
<p>输入 <code>yes</code> ，然后回车即可。<br>
这样会将该服务器的信息记录在 <code>~/.ssh/known_hosts</code>  文件中。</p>
<p>然后输入密码即可登录到远程服务器中。</p>
<p>默认登录端口号为 22。如果想登录某一特定端口：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh user@hostname -p 22</span><br></pre></td></tr></table></figure>
<p>配置文件<br>
创建文件  <code>~/.ssh/config</code> 。</p>
<p>然后在文件中输入：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Host myserver1</span><br><span class="line">    HostName IP地址或域名</span><br><span class="line">    User 用户名</span><br><span class="line"></span><br><span class="line">Host myserver2</span><br><span class="line">    HostName IP地址或域名</span><br><span class="line">    User 用户名</span><br></pre></td></tr></table></figure>
<p>之后再使用服务器时，可以直接使用别名 <code>myserver1</code> 、 <code>myserver2</code> 。</p>
<p><strong>密钥登录</strong><br>
创建密钥：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen</span><br></pre></td></tr></table></figure>
<p>然后一直回车即可。</p>
<p>执行结束后， <code>~/.ssh/</code>  目录下会多两个文件：</p>
<ul>
<li><code>id_rsa</code> ：私钥</li>
<li><code>id_rsa.pub</code> ：公钥</li>
</ul>
<p>之后想免密码登录哪个服务器，就将公钥传给哪个服务器即可。</p>
<p>例如，想免密登录 <code>myserver</code>  服务器。则将公钥中的内容，复制到 <code>myserver</code>  中的 <code>~/.ssh/authorized_keys</code>  文件里即可。</p>
<p>也可以使用如下命令一键添加公钥：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-copy-id myserver</span><br></pre></td></tr></table></figure>
<p><strong>执行命令</strong><br>
命令格式：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh user@hostname <span class="built_in">command</span></span><br></pre></td></tr></table></figure>
<p>例如：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh user@hostname <span class="built_in">ls</span> -a</span><br></pre></td></tr></table></figure>
<p>或者</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 单引号中的$i可以求值</span></span><br><span class="line">ssh myserver <span class="string">&#x27;for ((i = 0; i &lt; 10; i ++ )) do echo $i; done&#x27;</span></span><br></pre></td></tr></table></figure>
<p>或者</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 双引号中的$i不可以求值</span></span><br><span class="line">ssh myserver <span class="string">&quot;for ((i = 0; i &lt; 10; i ++ )) do echo <span class="variable">$i</span>; done&quot;</span></span><br></pre></td></tr></table></figure>
<hr>
<h5 id="62-scp传文件"><a class="markdownIt-Anchor" href="#62-scp传文件">#</a> 6.2 scp 传文件</h5>
<p>命令格式：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scp <span class="built_in">source</span> destination</span><br></pre></td></tr></table></figure>
<p>将 <code>source</code>  路径下的文件复制到 <code>destination</code>  中</p>
<p>一次复制多个文件：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scp source1 source2 destination</span><br></pre></td></tr></table></figure>
<p>复制文件夹：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scp -r ~/tmp myserver:/home/acs/</span><br></pre></td></tr></table></figure>
<p>将本地家目录中的 <code>tmp</code>  文件夹复制到 <code>myserver</code>  服务器中的 <code>/home/acs/</code>  目录下。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scp -r ~/tmp myserver:homework/</span><br></pre></td></tr></table></figure>
<p>将本地家目录中的 <code>tmp</code>  文件夹复制到 <code>myserver</code>  服务器中的 <code>~/homework/</code>  目录下。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scp -r myserver:homework .</span><br></pre></td></tr></table></figure>
<p>将 <code>myserver</code>  服务器中的 <code>~/homework/</code>  文件夹复制到本地的当前路径下。</p>
<p>指定服务器的端口号：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scp -P 22 source1 source2 destination</span><br></pre></td></tr></table></figure>
<p><strong>注意：</strong>  <code>scp</code>  的 <code>-r -P</code>  等参数尽量加在 <code>source</code>  和 <code>destination</code>  之前。</p>
<p><strong>使用 <code>scp</code>  配置其他服务器的 <code>vim</code>  和 <code>tmux</code> </strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scp ~/.vimrc ~/.tmux.conf myserver:</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="7-git"><a class="markdownIt-Anchor" href="#7-git">#</a> 7 git</h4>
<h5 id="71-git基本概念"><a class="markdownIt-Anchor" href="#71-git基本概念">#</a> 7.1. git 基本概念</h5>
<ul>
<li>工作区：仓库的目录。工作区是独立于各个分支的。</li>
<li>暂存区：数据暂时存放的区域，类似于工作区写入版本库前的缓存区。暂存区是独立于各个分支的。</li>
<li>版本库：存放所有已经提交到本地仓库的代码版本</li>
<li>版本结构：树结构，树中每个节点代表一个代码版本。</li>
</ul>
<hr>
<h5 id="72-git常用命令"><a class="markdownIt-Anchor" href="#72-git常用命令">#</a> 7.2 git 常用命令</h5>
<ol>
<li><code>git config --global user.name xxx</code> ：设置全局用户名，信息记录在～/.gitconfig 文件中</li>
<li><code>git config --global user.email xxx@xxx.com</code> ：设置全局邮箱地址，信息记录在～/.gitconfig 文件中</li>
<li><code>git init</code> ：将当前目录配置成 git 仓库，信息记录在隐藏的.git 文件夹中</li>
<li><code>git add XX</code> ：将 XX 文件添加到暂存区
<ul>
<li><code>git add .</code> ：将所有待加入暂存区的文件加入暂存区</li>
</ul>
</li>
<li><code>git rm --cached XX</code> ：将文件从仓库索引目录中删掉</li>
<li><code>git commit -m &quot;给自己看的备注信息&quot;</code> ：将暂存区的内容提交到当前分支</li>
<li><code>git status</code> ：查看仓库状态</li>
<li><code>git diff XX</code> ：查看 XX 文件相对于暂存区修改了哪些内容</li>
<li><code>git log</code> ：查看当前分支的所有版本</li>
<li><code>git reflog</code> ：查看 HEAD 指针的移动历史（包括被回滚的版本）</li>
<li><code>git reset --hard HEAD^</code>  或  <code>git reset --hard HEAD~</code> ：将代码库回滚到上一个版本
<ul>
<li><code>git reset --hard HEAD^^</code> ：往上回滚两次，以此类推</li>
<li><code>git reset --hard HEAD~100</code> ：往上回滚 100 个版本</li>
<li><code>git reset --hard 版本号</code> ：回滚到某一特定版本</li>
</ul>
</li>
<li><code>git checkout — XX</code>  或 <code>git restore XX</code> ：将 XX 文件尚未加入暂存区的修改全部撤销</li>
<li><code>git remote add origin git@git.acwing.com:xxx/XXX.git</code> ：将本地仓库关联到远程仓库</li>
<li><code>git push -u (第一次需要-u以后不需要)</code> ：将当前分支推送到远程仓库
<ul>
<li><code>git push origin branch_name</code> ：将本地的某个分支推送到远程仓库</li>
</ul>
</li>
<li><code>git clone git@git.acwing.com:xxx/XXX.git</code> ：将远程仓库 XXX 下载到当前目录下</li>
<li><code>git checkout -b branch_name</code> ：创建并切换到 <code>branch_name</code>  这个分支</li>
<li><code>git branch</code> ：查看所有分支和当前所处分支</li>
<li><code>git checkout branch_name</code> ：切换到 <code>branch_name</code>  这个分支</li>
<li><code>git merge branch_name</code> ：将分支 <code>branch_name</code>  合并到当前分支上</li>
<li><code>git branch -d branch_name</code> ：删除本地仓库的 <code>branch_name</code>  分支</li>
<li><code>git branch branch_name</code> ：创建新分支</li>
<li><code>git push --set-upstream origin branch_name</code> ：设置本地的 <code>branch_name</code>  分支对应远程仓库的 <code>branch_name</code>  分支</li>
<li><code>git push -d origin branch_name</code> ：删除远程仓库的 <code>branch_name</code>  分支</li>
<li><code>git pull</code> ：将远程仓库的当前分支与本地仓库的当前分支合并
<ul>
<li><code>git pull origin branch_name</code> ：将远程仓库的 <code>branch_name</code>  分支与本地仓库的当前分支合并</li>
</ul>
</li>
<li><code>git branch --set-upstream-to=origin/branch_name1 branch_name2</code> ：将远程的 <code>branch_name1</code>  分支与本地的 <code>branch_name2</code>  分支对应</li>
<li><code>git checkout -t origin/branch_name </code> 将远程的 <code>branch_name</code>  分支拉取到本地</li>
<li><code>git stash</code> ：将工作区和暂存区中尚未提交的修改存入栈中</li>
<li><code>git stash apply</code> ：将栈顶存储的修改恢复到当前分支，但不删除栈顶元素</li>
<li><code>git stash drop</code> ：删除栈顶存储的修改</li>
<li><code>git stash pop</code> ：将栈顶存储的修改恢复到当前分支，同时删除栈顶元素</li>
<li><code>git stash list</code> ：查看栈中所有元素</li>
</ol>
<hr>
<h4 id="8-管道-环境变量与常用命令"><a class="markdownIt-Anchor" href="#8-管道-环境变量与常用命令">#</a> 8 管道、环境变量与常用命令</h4>
<h5 id="81-管道"><a class="markdownIt-Anchor" href="#81-管道">#</a> 8.1 管道</h5>
<p><strong>概念</strong><br>
管道类似于文件重定向，可以将前一个命令的 <code>stdout</code>  重定向到下一个命令的 <code>stdin</code> 。</p>
<p><strong>要点</strong><br>
管道命令仅处理 <code>stdout</code> ，会忽略 <code>stderr</code> 。<br>
管道右边的命令必须能接受 <code>stdin</code> 。<br>
多个管道命令可以串联。<br>
<strong>与文件重定向的区别</strong></p>
<ul>
<li>文件重定向左边为命令，右边为文件。</li>
<li>管道左右两边均为命令，左边有 <code>stdout</code> ，右边有 <code>stdin</code> 。</li>
</ul>
<p><strong>举例</strong><br>
统计当前目录下所有 python 文件的总行数，其中 <code>find</code> 、 <code>xargs</code> 、 <code>wc</code>  等命令可以参考常用命令这一节内容。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find . -name <span class="string">&#x27;*.py&#x27;</span> | xargs <span class="built_in">cat</span> | <span class="built_in">wc</span> -l</span><br></pre></td></tr></table></figure>
<hr>
<h5 id="82-环境变量"><a class="markdownIt-Anchor" href="#82-环境变量">#</a> 8.2 环境变量</h5>
<p><strong>概念</strong><br>
 Linux 系统中会用很多环境变量来记录<strong>配置信息</strong>。<br>
环境变量类似于全局变量，可以被各个进程访问到。我们可以通过修改环境变量来方便地修改系统配置。</p>
<p><strong>查看</strong><br>
列出当前环境下的所有环境变量：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">env</span>  <span class="comment"># 显示当前用户的变量</span></span><br><span class="line"><span class="built_in">set</span>  <span class="comment"># 显示当前shell的变量，包括当前用户的变量;</span></span><br><span class="line"><span class="built_in">export</span>  <span class="comment"># 显示当前导出成用户变量的shell变量</span></span><br></pre></td></tr></table></figure>
<p>输出某个环境变量的值：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="variable">$PATH</span></span><br></pre></td></tr></table></figure>
<p><strong>修改</strong><br>
环境变量的定义、修改、删除操作可以参考 shell 语法中的变量这部分内容。</p>
<p>为了将对环境变量的修改应用到未来所有环境下，可以将修改命令放到 <code>~/.bashrc</code>  文件中。<br>
修改完 <code>~/.bashrc</code>  文件后，记得执行 <code>source ~/.bashrc</code> ，来将修改应用到当前的 <code>bash</code>  环境下。</p>
<p>为何将修改命令放到 <code>~/.bashrc</code> ，就可以确保修改会影响未来所有的环境呢？</p>
<ul>
<li>每次启动 <code>bash</code> ，都会先执行 <code>~/.bashrc</code> 。</li>
<li>每次 <code>ssh</code>  登陆远程服务器，都会启动一个 <code>bash</code>  命令行给我们。</li>
<li>每次 <code>tmux</code>  新开一个 <code>pane</code> ，都会启动一个 <code>bash</code>  命令行给我们。</li>
<li>所以未来所有新开的环境都会加载我们修改的内容。</li>
</ul>
<p><strong>常见环境变量</strong></p>
<ol>
<li><code>HOME</code> ：用户的家目录。</li>
<li><code>PATH</code> ：可执行文件（命令）的存储路径。路径与路径之间用：分隔。当某个可执行文件同时出现在多个路径中时，会选择从左到右数第一个路径中的执行。<strong>下列所有存储路径的环境变量，均采用从左到右的优先顺序。</strong></li>
<li><code>LD_LIBRARY_PATH</code> ：用于指定动态链接库 (.so 文件) 的路径，其内容是以冒号分隔的路径列表。</li>
<li><code>C_INCLUDE_PATH</code> ：C 语言的头文件路径，内容是以冒号分隔的路径列表。</li>
<li><code>CPLUS_INCLUDE_PATH</code> ：CPP 的头文件路径，内容是以冒号分隔的路径列表。</li>
<li><code>PYTHONPATH</code> ：Python 导入包的路径，内容是以冒号分隔的路径列表。</li>
<li><code>JAVA_HOME</code> ：jdk 的安装目录。</li>
<li><code>CLASSPATH</code> ：存放 Java 导入类的路径，内容是以冒号分隔的路径列表。</li>
</ol>
<hr>
<h5 id="83-常用命令"><a class="markdownIt-Anchor" href="#83-常用命令">#</a> 8.3 常用命令</h5>
<ol>
<li><strong>系统状况</strong></li>
<li><code>top</code> ：查看所有进程的信息（Linux 的任务管理器）
<ul>
<li>打开后，输入 <code>M</code> ：按使用内存排序</li>
<li>打开后，输入 <code>P</code> ：按使用 CPU 排序</li>
<li>打开后，输入 <code>q</code> ：退出</li>
</ul>
</li>
<li><code>df -h</code> ：查看硬盘使用情况</li>
<li><code>free -h</code> ：查看内存使用情况</li>
<li><code>du -sh</code> ：查看当前目录占用的硬盘空间</li>
<li><code>ps aux</code> ：查看所有进程</li>
<li><code>kill -9 pid</code> ：杀死编号为 <code>pid</code>  的进程<br>
 - 传递某个具体的信号： <code>kill -s SIGTERM pid</code></li>
<li><code>netstat -nt</code> ：查看所有网络连接</li>
<li><code>w</code> ：列出当前登陆的用户</li>
<li><code>ping www.baidu.com</code> ：检查是否连网</li>
</ol>
<hr>
<p><strong>文件权限</strong></p>
<ol>
<li>
<p><code>chmod</code> ：修改文件权限</p>
<ul>
<li>
<p><code>chmod +x xxx</code> ：给 <code>xxx</code>  添加可执行权限</p>
</li>
<li>
<p><code>chmod -x xxx</code> ：去掉 <code>xxx</code>  的可执行权限</p>
</li>
<li>
<p><code>chmod 777 xxx</code> ：将 <code>xxx</code>  的权限改成 777</p>
</li>
<li>
<p><code>chmod 777 xxx -R</code> ：递归修改整个文件夹的权限</p>
</li>
</ul>
</li>
</ol>
<hr>
<p><strong>文件检索</strong></p>
<ol>
<li>
<p><code>find /path/to/directory/ -name '*.py'</code> ：搜索某个文件路径下的所有 <code>*.py</code>  文件</p>
</li>
<li>
<p><code>grep xxx</code> ：从 <code>stdin</code>  中读入若干行数据，如果某行中包含 <code>xxx</code> ，则输出该行；否则忽略该行。</p>
</li>
<li>
<p><code>wc</code> ：统计行数、单词数、字节数</p>
<ul>
<li>
<p>既可以从 <code>stdin</code>  中直接读入内容；也可以在命令行参数中传入文件名列表；</p>
</li>
<li>
<p><code>wc -l</code> ：统计行数</p>
</li>
<li>
<p><code>wc -w</code> ：统计单词数</p>
</li>
<li>
<p><code>wc -c</code> ：统计字节数</p>
</li>
</ul>
</li>
<li>
<p><code>tree</code> ：展示当前目录的文件结构</p>
<ul>
<li>
<p><code>tree /path/to/directory/</code> ：展示某个目录的文件结构</p>
</li>
<li>
<p><code>tree -a</code> ：展示隐藏文件</p>
</li>
</ul>
</li>
<li>
<p><code>ag xxx</code> ：搜索当前目录下的所有文件，检索 xxx 字符串</p>
</li>
<li>
<p><code>cut</code> ：分割一行内容</p>
<ul>
<li>
<p>从 <code>stdin</code>  中读入多行数据</p>
</li>
<li>
<p><code>echo $PATH | cut -d ':' -f 3,5</code> ：输出 <code>PATH</code>  用 <code>:</code>  分割后第 3、5 列数据</p>
</li>
<li>
<p><code>echo $PATH | cut -d ':' -f 3-5</code> ：输出 <code>PATH</code>  用 <code>:</code>  分割后第 3-5 列数据</p>
</li>
<li>
<p><code>echo $PATH | cut -c 3,5</code> ：输出 <code>PATH</code>  的第 3、5 个字符</p>
</li>
<li>
<p><code>echo $PATH | cut -c 3-5</code> ：输出 <code>PATH</code>  的第 3-5 个字符</p>
</li>
</ul>
</li>
<li>
<p><code>sort</code> ：将每行内容按字典序排序</p>
<ul>
<li>
<p>可以从 <code>stdin</code>  中读取多行数据</p>
</li>
<li>
<p>可以从命令行参数中读取文件名列表</p>
</li>
</ul>
</li>
<li>
<p><code>xargs</code> ：将 stdin 中的数据用空格或回车分割成命令行参数</p>
<ul>
<li><code>find . -name '*.py' | xargs cat | wc -l</code> ：统计当前目录下所有 python 文件的总行数</li>
</ul>
</li>
</ol>
<hr>
<p><strong>查看文件内容</strong></p>
<ol>
<li>
<p><code>more</code> ：浏览文件内容</p>
<ul>
<li>
<p>回车：下一行</p>
</li>
<li>
<p>空格：下一页</p>
</li>
<li>
<p><code>b</code> ：上一页</p>
</li>
<li>
<p><code>q</code> ：退出</p>
</li>
</ul>
</li>
<li>
<p><code>less</code> ：与 <code>more</code>  类似，功能更全</p>
<ul>
<li>
<p>回车：下一行</p>
</li>
<li>
<p><code>y</code> ：上一行</p>
</li>
<li>
<p><code>Page Down</code> ：下一页</p>
</li>
<li>
<p><code>Page Up</code> ：上一页</p>
</li>
<li>
<p><code>q</code> ：退出</p>
</li>
</ul>
</li>
<li>
<p><code>head -3 xxx</code> ：展示 <code>xxx</code>  的前 3 行内容</p>
<ul>
<li>同时支持从 <code>stdin</code>  读入内容</li>
</ul>
</li>
<li>
<p><code>tail -3 xxx</code> ：展示 <code>xxx</code>  末尾 3 行内容</p>
<ul>
<li>同时支持从 <code>stdin</code>  读入内容</li>
</ul>
</li>
</ol>
<hr>
<p><strong>用户相关</strong></p>
<ol>
<li><code>history</code> ：展示当前用户的历史操作。内容存放在 <code>~/.bash_history</code>  中</li>
</ol>
<hr>
<p><strong>工具</strong></p>
<ol>
<li>
<p><code>md5sum</code> ：计算 md5 哈希值</p>
<ul>
<li>
<p>可以从 <code>stdin</code>  读入内容</p>
</li>
<li>
<p>也可以在命令行参数中传入文件名列表；</p>
</li>
</ul>
</li>
<li>
<p><code>time command</code> ：统计 <code>command</code>  命令的执行时间</p>
</li>
<li>
<p><code>ipython3</code> ：交互式 python3 环境。可以当做计算器，或者批量管理文件。</p>
</li>
<li>
<p><code>! echo &quot;Hello World&quot;</code> ： <code>!</code>  表示执行 <code>shell</code>  脚本</p>
</li>
<li>
<p><code>watch -n 0.1 command</code> ：每 0.1 秒执行一次 <code>command</code>  命令</p>
</li>
<li>
<p><code>tar</code> ：压缩文件</p>
<ul>
<li>
<p><code>tar -zcvf xxx.tar.gz /path/to/file/*</code> ：压缩</p>
</li>
<li>
<p><code>tar -zxvf xxx.tar.gz</code> ：解压缩</p>
</li>
</ul>
</li>
<li>
<p><code>diff xxx yyy</code> ：查找文件 <code>xxx</code>  与 <code>yyy</code>  的不同点</p>
</li>
</ol>
<hr>
<p><strong>安装软件</strong></p>
<ol>
<li><code>sudo command</code> ：以 <code>root</code>  身份执行 <code>command</code>  命令</li>
<li><code>apt-get install xxx</code> ：安装软件</li>
<li><code>pip install xxx --user --upgrade</code> ：安装 python 包</li>
</ol>
<hr>
<h4 id="9-docker"><a class="markdownIt-Anchor" href="#9-docker">#</a> 9 docker</h4>
<p><strong>将当前用户添加到 <code>docker</code>  用户组</strong><br>
为了避免每次使用 <code>docker</code>  命令都需要加上 <code>sudo</code>  权限，可以将当前用户加入安装中自动创建的 <code>docker</code>  用户组 (可以参考官方文档)：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo usermod -aG docker <span class="variable">$USER</span></span><br></pre></td></tr></table></figure>
<p>执行完此操作后，需要退出服务器，再重新登录回来，才可以省去 <code>sudo</code>  权限。</p>
<hr>
<p><strong>镜像（images）</strong></p>
<ol>
<li><code>docker pull ubuntu:20.04</code> ：拉取一个镜像</li>
<li><code>docker images</code> ：列出本地所有镜像</li>
<li><code>docker image rm ubuntu:20.04</code>  或 <code> docker rmi ubuntu:20.04</code> ：删除镜像 <code>ubuntu:20.04</code></li>
<li><code>docker [container] commit CONTAINER IMAGE_NAME:TAG</code> ：创建某个 <code>container</code>  的镜像</li>
<li><code>docker save -o ubuntu_20_04.tar ubuntu:20.04</code> ：将镜像 <code>ubuntu:20.04</code>  导出到本地文件 <code>ubuntu_20_04.tar</code>  中</li>
<li><code>docker load -i ubuntu_20_04.tar</code> ：将镜像 <code>ubuntu:20.04</code>  从本地文件 <code>ubuntu_20_04.tar</code>  中加载出来</li>
</ol>
<hr>
<p><strong>容器 (container)</strong></p>
<ol>
<li>
<p><code>docker [container] create -it ubuntu:20.04</code> ：利用镜像 <code>ubuntu:20.04</code>  创建一个容器。</p>
</li>
<li>
<p><code>docker ps -a</code> ：查看本地的所有容器</p>
</li>
<li>
<p><code>docker [container] start CONTAINER</code> ：启动容器</p>
</li>
<li>
<p><code>docker [container] stop CONTAINER</code> ：停止容器</p>
</li>
<li>
<p><code>docker [container] restart CONTAINER</code> ：重启容器</p>
</li>
<li>
<p><code>docker [contaienr] run -itd ubuntu:20.04</code> ：创建并启动一个容器</p>
</li>
<li>
<p><code>docker [container] attach CONTAINER</code> ：进入容器</p>
<ul>
<li>先按 <code>Ctrl-p</code> ，再按 <code>Ctrl-q</code>  可以挂起容器</li>
</ul>
</li>
<li>
<p><code>docker [container] exec CONTAINER COMMAND</code> ：在容器中执行命令</p>
</li>
<li>
<p><code>docker [container] rm CONTAINER</code> ：删除容器</p>
</li>
<li>
<p><code>docker container prune</code> ：删除所有已停止的容器</p>
</li>
<li>
<p><code>docker export -o xxx.tar CONTAINER</code> ：将容器 <code>CONTAINER</code>  导出到本地文件 <code>xxx.tar</code>  中</p>
</li>
<li>
<p><code>docker import xxx.tar image_name:tag</code> ：将本地文件 <code>xxx.tar</code>  导入成镜像，并将镜像命名为 <code>image_name:tag</code></p>
</li>
<li>
<p><code>docker export/import</code>  与 <code>docker save/load</code>  的区别：</p>
<ul>
<li>
<p><code>export/import</code>  会丢弃历史记录和元数据信息，仅保存容器当时的快照状态</p>
</li>
<li>
<p><code>save/load</code>  会保存完整记录，体积更大</p>
</li>
</ul>
</li>
<li>
<p><code>docker top CONTAINER</code> ：查看某个容器内的所有进程</p>
</li>
<li>
<p><code>docker stats</code> ：查看所有容器的统计信息，包括 CPU、内存、存储、网络等信息</p>
</li>
<li>
<p><code>docker cp xxx CONTAINER:xxx</code>  或  <code>docker cp CONTAINER:xxx xxx</code> ：在本地和容器间复制文件</p>
</li>
<li>
<p><code>docker rename CONTAINER1 CONTAINER2</code> ：重命名容器</p>
</li>
<li>
<p><code>docker update CONTAINER --memory 500MB</code> ：修改容器限制</p>
</li>
</ol>
<hr>
<p><strong>实战</strong><br>
进入终端，然后：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">scp /var/lib/acwing/docker/images/docker_lesson_1_0.tar server_name:  <span class="comment"># 将镜像上传到自己租的云端服务器</span></span><br><span class="line">ssh server_name  <span class="comment"># 登录自己的云端服务器</span></span><br><span class="line"></span><br><span class="line">docker load -i docker_lesson_1_0.tar  <span class="comment"># 将镜像加载到本地</span></span><br><span class="line">docker run -p 20000:22 --name my_docker_server -itd docker_lesson:1.0  <span class="comment"># 创建并运行docker_lesson:1.0镜像</span></span><br><span class="line"></span><br><span class="line">docker attach my_docker_server  <span class="comment"># 进入创建的docker容器</span></span><br><span class="line">passwd  <span class="comment"># 设置root密码</span></span><br></pre></td></tr></table></figure>
<p>去云平台控制台中修改安全组配置，放行端口 <code>20000</code> 。</p>
<p>返回终端，即可通过 <code>ssh</code>  登录自己的 <code>docker</code>  容器：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh root@xxx.xxx.xxx.xxx -p 20000  <span class="comment"># 将xxx.xxx.xxx.xxx替换成自己租的服务器的IP地址</span></span><br></pre></td></tr></table></figure>
<p>然后，可以仿照先前内容，创建工作账户 <code>acs</code> 。</p>
<p>最后，可以参考 ssh 部分的 ssh 登录配置 <code>docker</code>  容器的别名和免密登录。</p>
</div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">Ex-monster</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://example.com/2023/06/26/Linux%20%E5%AD%A6%E4%B9%A0%E8%AE%B2%E4%B9%89/">http://example.com/2023/06/26/Linux%20%E5%AD%A6%E4%B9%A0%E8%AE%B2%E4%B9%89/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://example.com" target="_blank">monster's blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Linux/">Linux</a></div><div class="post_share"><div class="social-share" data-image="/img/雨梦.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"/><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><div class="post-reward"><a class="reward-button button--primary button--animated"> <i class="fa fa-qrcode"></i> 打赏<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="lazyload post-qr-code__img" src="/img/wechat.jpg" alt="微信"/><div class="post-qr-code__desc">微信</div></li><li class="reward-item"><img class="lazyload post-qr-code__img" src="/img/alipay.jpg" alt="支付寶"/><div class="post-qr-code__desc">支付寶</div></li></ul></div></a></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/2023/06/26/%E5%B8%B8%E7%94%A8%E4%BB%A3%E7%A0%81%E6%A8%A1%E6%9D%BF1/"><img class="prev_cover lazyload" data-src="/img/释然.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">C++常用代码模板（1）</div></div></a></div><div class="next-post pull_right"><a href="/2023/04/21/%E5%89%8D%E7%AB%AF%E5%AD%A6%E4%B9%A0%E2%80%94%E2%80%94HTML+CSS/"><img class="next_cover lazyload" data-src="/img/shine.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">前端学习——HTML+CSS</div></div></a></div></nav><hr><div id="post-comment"><div class="comment_headling"><i class="fa fa-comments fa-fw" aria-hidden="true"></i><span> 评论</span></div><div id="gitalk-container"></div><script>var gitalk = new Gitalk({
  clientID: '374caea017c7741d14a4',
  clientSecret: '411aa344eb6beda2ef124d108098fcd769944b76',
  repo: 'Ex-monsters.github.io',
  owner: 'Ex-monsters',
  admin: ['Ex-monsters'],
  id: md5(decodeURI(location.pathname)),
  language: 'zh-CN',
  perPage: 10,
  distractionFreeMode: false,
  pagerDirection: 'last',
  createIssueManually: false,
  updateCountCallback: commentCount
})
gitalk.render('gitalk-container')

function commentCount(n){
  try {
    document.getElementsByClassName('gitalk-comment-count')[0].innerHTML= n
  } catch (e) {
    return false
  }
}</script></div></article></main><footer id="footer" data-type="color"><div id="footer-wrap"><div class="copyright">&copy;2022 - 2023 By Ex-monster</div><div class="framework-info"><span>驱动 </span><a target="_blank" rel="noopener" href="https://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly"><span>Butterfly</span></a></div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="阅读模式"></i><i class="fa fa-plus" id="font_plus" title="放大字体"></i><i class="fa fa-minus" id="font_minus" title="缩小字体"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="简繁转换" target="_self">繁</a><i class="darkmode fa fa-moon-o" id="darkmode" title="夜间模式"></i></div><div id="rightside-config-show"><div id="rightside_config" title="设置"><i class="fa fa-cog" aria-hidden="true"></i></div><a id="to_comment" href="#post-comment" title="直达评论"><i class="scroll_to_comment fa fa-comments">  </i></a><i class="fa fa-list-ul close" id="mobile-toc-button" title="目录" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="回到顶部" aria-hidden="true"></i></div></section><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>由</span> <a target="_blank" rel="noopener" href="https://github.com/wzpan/hexo-generator-search" style="color:#49B1F5;">hexo-generator-search</a>
 <span>提供支持</span></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="/js/third-party/fireworks.js"></script><script id="ribbon_piao" mobile="true" src="/js/third-party/piao.js"></script><script id="canvas_nest" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="true" src="/js/third-party/canvas-nest.js"></script><script src="/js/third-party/activate-power-mode.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
document.body.addEventListener('input', POWERMODE);
</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lazysizes@latest/lazysizes.min.js" async=""></script><script src="/js/search/local-search.js"></script><script>var endLoading = function () {
  document.body.style.overflow = 'auto';
  document.getElementById('loading-box').classList.add("loaded")
}
window.addEventListener('load',endLoading)</script></body></html>